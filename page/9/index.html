<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 9 页 | 博客</title>

  
  <meta name="author" content="403 Forbidden">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/categories">分类</a></li>
      
        <li><a href="/about.html">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/11/用javascript实现本地图片预览(HTML5)/"><span>用javascript实现本地图片预览(HTML5)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/11/用javascript实现本地图片预览(HTML5)/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-11T02:56:51.000Z">
          2015-03-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>使用FileReader实现打开本地图片并预览。<br>挺方便的，可惜不是所有浏览器都支持，坑爹的IE。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">preImg</span>(<span class="params">sourceId, targetId</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">if</span> (<span class="keyword">typeof</span> FileReader === <span class="string">'undefined'</span>) &#123;</span></span><br><span class="line"><span class="javascript">		alert(<span class="string">'Your browser does not support FileReader...'</span>);</span></span><br><span class="line"><span class="javascript">		<span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(targetId);</span></span><br><span class="line"><span class="javascript">		img.src = <span class="keyword">this</span>.result;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="javascript">	reader.readAsDataURL(<span class="built_in">document</span>.getElementById(sourceId).files[<span class="number">0</span>]);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"imgOne"</span> <span class="attr">id</span>=<span class="string">"imgOne"</span> <span class="attr">onchange</span>=<span class="string">"preImg(this.id,'imgPre');"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"imgPre"</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">style</span>=<span class="string">"display: block;"</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>转载自 <a href="http://crayster.iteye.com/blog/1543058" target="_blank" rel="noopener">http://crayster.iteye.com/blog/1543058</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/03/11/用javascript实现本地图片预览(HTML5)/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/04/js数组删除元素/"><span>js数组删除元素</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/04/js数组删除元素/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-04T03:36:41.000Z">
          2015-03-04
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br></pre></td></tr></table></figure>
<p>若要删除其中的’b’,有两种方法：<br><strong>1.delete方法:delete arr[1]</strong><br>这种方式数组长度不变,此时arr[1]变为undefined了,但是也有好处原来数组的索引也保持不变,此时要遍历数组元素可以才用<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(index <span class="keyword">in</span> arr)</span><br><span class="line">&#123;</span><br><span class="line">　　 <span class="built_in">document</span>.write(<span class="string">'arr['</span>+index+<span class="string">']='</span>+arr[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这种遍历方式跳过其中undefined的元素</p>
<ul>
<li>该方式IE4.o以后都支持了</li>
</ul>
<p><strong>2.数组对象splice方法:arr.splice(1,1);</strong><br>这种方式数组长度相应改变,但是原来的数组索引也相应改变<br>splice参数中第一个1,是删除的起始索引(从0算起),在此是数组第二个元素<br>第二个1,是删除元素的个数,在此只删除一个元素,即’b’;<br>此时遍历数组元素可以用普通遍历数组的方式,比如for,因为删除的元素在<br>数组中并不保留</p>
<ul>
<li>该方法IE5.5以后才支持<br>值得一提的是splice方法在删除数组元素的同时,还可以新增入数组元素<br>比如arr.splice(1,1,’d’,’e’),d,e两个元素就被加入数组arr了<br>结果数组变成arr:’a’,’d’,’e’,’c’</li>
</ul>
<p>外一篇：<br>　　JavaScript通过设置数组的length属性来截断数组是惟一一种缩短数组长度的方法.如果使用delete运算符来删除数组中元素,虽然那个元素变成未定义的,但是数组的length属性并不改变两种删除元素,数组长度也改变的方法.</p>
<p>　 /<em>
　 </em>　方法:<strong>Array.remove(dx)</strong><br>　 <em>　功能:删除数组元素.
　 </em>　参数:dx删除元素的下标.<br>　 <em>　返回:在原数组上修改数组
　 </em>/<br>　　<br>　//经常用的是通过遍历,重构数组.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.remove=<span class="function"><span class="keyword">function</span>(<span class="params">dx</span>)</span></span><br><span class="line"><span class="function">　</span>&#123;</span><br><span class="line">　　<span class="keyword">if</span>(<span class="built_in">isNaN</span>(dx)||dx&gt;<span class="keyword">this</span>.length)&#123;<span class="keyword">return</span> <span class="literal">false</span>;&#125;</span><br><span class="line">　　<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,n=<span class="number">0</span>;i&lt;<span class="keyword">this</span>.length;i++)</span><br><span class="line">　　&#123;</span><br><span class="line">　　　　<span class="keyword">if</span>(<span class="keyword">this</span>[i]!=<span class="keyword">this</span>[dx])</span><br><span class="line">　　　　&#123;</span><br><span class="line">　　　　　　<span class="keyword">this</span>[n++]=<span class="keyword">this</span>[i]</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;</span><br><span class="line">　　<span class="keyword">this</span>.length-=<span class="number">1</span></span><br><span class="line">　&#125;</span><br><span class="line">　a = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>];</span><br><span class="line">　alert(<span class="string">"elements: "</span>+a+<span class="string">"nLength: "</span>+a.length);</span><br><span class="line">　a.remove(<span class="number">0</span>); <span class="comment">//删除下标为0的元素</span></span><br><span class="line">　alert(<span class="string">"elements: "</span>+a+<span class="string">"nLength: "</span>+a.length);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">　 *　方法:Array.baoremove(dx)</span></span><br><span class="line"><span class="comment">　 *　功能:删除数组元素.</span></span><br><span class="line"><span class="comment">　 *　参数:dx删除元素的下标.</span></span><br><span class="line"><span class="comment">　 *　返回:在原数组上修改数组.</span></span><br><span class="line"><span class="comment">　 */</span></span><br><span class="line">　　</span><br><span class="line">　<span class="comment">//我们也可以用splice来实现.</span></span><br><span class="line">　　</span><br><span class="line">　<span class="built_in">Array</span>.prototype.baoremove = <span class="function"><span class="keyword">function</span>(<span class="params">dx</span>)</span></span><br><span class="line"><span class="function">　</span>&#123;</span><br><span class="line">　　<span class="keyword">if</span>(<span class="built_in">isNaN</span>(dx)||dx&gt;<span class="keyword">this</span>.length)&#123;<span class="keyword">return</span> <span class="literal">false</span>;&#125;</span><br><span class="line">　　<span class="keyword">this</span>.splice(dx,<span class="number">1</span>);</span><br><span class="line">　&#125;</span><br><span class="line">　b = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>];</span><br><span class="line">　alert(<span class="string">"elements: "</span>+b+<span class="string">"nLength: "</span>+b.length);</span><br><span class="line">　b.baoremove(<span class="number">1</span>); <span class="comment">//删除下标为1的元素</span></span><br><span class="line">　alert(<span class="string">"elements: "</span>+b+<span class="string">"nLength: "</span>+b.length);</span><br></pre></td></tr></table></figure>
<p>　　我们知道，在IE5或更低的版本中，JavaScript的Array（数组）对象并未提供现成的删除数组元素的方法。在IE5.5+的版本中，虽然有splice方法，但是并不是删除某一项（或几项），而仅仅是将某一项（或几项）的值清除，也就是说该项仍然存在，数组的长度并没有改变。<br>　　事实上，我们可以自己为数组增加一个删除方法（注意，这里指的是将数组的某一项真正的从数组成员中移除）。或许你会想到用循环来为数组重新赋值，这样做当然可以，但效率很低。<br>　　下面我们介绍利用Array对象的两个方法slice、concat来自定义删除数组的方法。<br>　　具体代码如下，请注意里面的注释。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.del=<span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;　<span class="comment">//n表示第几项，从0开始算起。</span></span><br><span class="line"><span class="comment">//prototype为对象原型，注意这里为对象增加自定义方法的方法。</span></span><br><span class="line">　<span class="keyword">if</span>(n&lt;<span class="number">0</span>)　<span class="comment">//如果n&lt;0，则不进行任何操作。</span></span><br><span class="line">　　<span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">　<span class="keyword">else</span></span><br><span class="line">　　<span class="keyword">return</span> <span class="keyword">this</span>.slice(<span class="number">0</span>,n).concat(<span class="keyword">this</span>.slice(n+<span class="number">1</span>,<span class="keyword">this</span>.length));</span><br><span class="line">　　<span class="comment">/*</span></span><br><span class="line"><span class="comment">　　　concat方法：返回一个新数组，这个新数组是由两个或更多数组组合而成的。</span></span><br><span class="line"><span class="comment">　　　　　　　　　这里就是返回this.slice(0,n)/this.slice(n+1,this.length)</span></span><br><span class="line"><span class="comment">　　 　　　　　　组成的新数组，这中间，刚好少了第n项。</span></span><br><span class="line"><span class="comment">　　　slice方法： 返回一个数组的一段，两个参数，分别指定开始和结束的位置。</span></span><br><span class="line"><span class="comment">　　*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//我们来试一试这个自己增加的方法</span></span><br><span class="line"><span class="keyword">var</span> test=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">test=test.del(<span class="number">3</span>);　<span class="comment">//从0算起，这里也就是删除第4项。</span></span><br><span class="line">alert(test);</span><br></pre></td></tr></table></figure></p>
<p>这样，仅仅灵活运用了Array对象的两个方法，就实现了我们的要求。</p>
<p>转载自 <a href="http://www.cnblogs.com/qiantuwuliang/archive/2010/09/01/1814706.html" target="_blank" rel="noopener">http://www.cnblogs.com/qiantuwuliang/archive/2010/09/01/1814706.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/03/04/js数组删除元素/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/01/检查素数的正则表达式分享/"><span>检查素数的正则表达式分享</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/01/检查素数的正则表达式分享/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-01T02:27:15.000Z">
          2015-03-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>一般来说，我们会使用正规表达式来做字符串匹配，今天在网上浏览的时候，看到了有人用正则表达式来检查一个数字是否为素数（质数），让我非常感兴趣<br>这个正则表达式如图所示：<br><a href="/uploads/2015/03/regexpr-for-prime-number.jpg"><img src="/uploads/2015/03/regexpr-for-prime-number-300x30.jpg" alt="regexpr-for-prime-number"></a><br>检查素数与否的正则表达式<br>要使用这个正规则表达式，你需要把自然数转成多个1的字符串，如：2 要写成 “11”， 3 要写成 “111”, 17 要写成“11111111111111111”，这种工作使用一些脚本语言可以轻松的完成。<br>一开始我对这个表达式持怀疑态度，但仔细研究了一下这个表达式，发现是非常合理的，下面，让我带你来细细剖析一下是这个表达式的工作原理。<br>首先，我们看到这个表达式中有“|”，也就是说这个表达式可以分成两个部分：/^1?$/ 和 /^(11+?)\1+$/<br>第一部分：/^1?$/， 这个部分相信不用我多说了，其表示匹配“空串”以及字串中只有一个“1”的字符串。<br>第二部分：/^(11+?)\1+$/，这个部分是整个表达式的关键部分。其可以分成两个部分，(11+?) 和\1+$，前半部很简单了，匹配以“11”开头的并重复0或n个1的字符串，后面的部分意思是把前半部分作为一个字串去匹配还剩下的字符串1次或多次（这句话的意思是——剩余的字串的1的个数要是前面字串1个数的整数倍）。<br>可见这个正规则表达式是取非素数，要得到素数还得要对整个表达式求反。通过上面的分析，我们知道，第二部分是最重要的，对于第二部分，举几个例子，<br>示例一：判断自然数8。我们可以知道，8转成我们的格式就是“11111111”，对于(11+?)，其匹配了“11”，于是还剩下“111111”，而\1+$正好匹配了剩下的“111111”，因为，“11”这个模式在“111111”出现了三次，符合模式匹配，返回true。所以，匹配成功，于是这个数不是质数。<br>示例二：判断自然数11。转成我们需要的格式是“11111111111”（十一个1），对于(11+?)，其匹配了“11”（前两个1），还剩下“111111111”（九个1），而\1+$无法为“11”匹配那“九个1”，因为“11”这个模式并没有在“九个1”这个串中正好出现N次。于是，我们的正则表达式引擎会尝试下一种方法，先匹配“111”（前三个1），然后把“111”作为模式去匹配剩下的“11111111”（八个1），很明显，那“八个1”并没有匹配“三个1”多次。所以，引擎会继续向下尝试……直至尝试所有可能都无法匹配成功。所以11是素数。<br>通过示例二，我们可以得到这样的等价数算算法，正则表达式会匹配这若干个1中有没有出现“二个1”的整数倍，“三个1”的整数倍，“四个1”的整数倍……，而，这正好是我们需要的算素数的算法。现在大家明白了吧。<br>下面，我们用perl来使用这个正规则表达式不停地输出素数：（关于perl的语法我就不多说了，请注意表达式前的取反操作符）<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">perl -e'$|++;(1 x$_)!~/^1?$|^(11+?)\1+$/&amp;&amp;print"$_ "while ++$_'</span><br></pre></td></tr></table></figure></p>
<p>另外，让我们来举一反三，根据上述的这种方法，我们甚至可以用正则表达式来求证某方式是否有解，如：<br>二元方程：17x + 12y = 51   判断其是否有解的正则表达式是：^(.<em>)\1{16}(.</em>)\2{11}$<br>三元方程：11x + 2y + 5z = 115 判断其是否有解的正则表达式是：^(.<em>)\1{10}(.</em>)\2{1}(.*)\3{4}$<br>大家不妨自己做做练习，为什么上述的两个正则表达式可以判断方程是否有解。如果无法参透其中的奥妙的话，你可以读读这篇<a href="http://blog.stevenlevithan.com/archives/algebra-with-regexes" target="_blank" rel="noopener">英文文章</a>。</p>
<p>转载自 <a href="http://www.jb51.net/article/27859.htm" target="_blank" rel="noopener">http://www.jb51.net/article/27859.htm</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/计算机技术/">计算机技术</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/03/01/检查素数的正则表达式分享/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/22/Linux下用fdisk和resize2fs动态修改分区大小/"><span>Linux下用fdisk和resize2fs动态修改分区大小</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/22/Linux下用fdisk和resize2fs动态修改分区大小/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-21T20:55:55.000Z">
          2015-02-22
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>我的Archlinux发现root(/)分区不够用了，于是想把/home分区的空间腾出一些来，<br>原理：用resize2fs调整/home文件系统的大小，用fdisk调整分区的大小。<br>试验结果：由于开始不小心把/home(/dev/sda4)分区删掉了，所以没试验成功，于是用以下步骤扩大了root分区：</p>
<ol>
<li>fdisk把root（/dev/sda3）分区删除，注意删除前记录开始柱面号，具体命令：<br>fdisk /dev/sda ，p命令显示的Start列）</li>
<li>用同样的开始柱面号，建立（fdisk /），命令 n</li>
<li>再使用resize2fs重新修改分区的大小，命令：resize2fs /dev/sda3。</li>
<li>重启系统，出现挂载/home分区失败，按照提示：mount -o remount,rw /，同时删除/etc/fstab下的含有/home那一行。</li>
<li>再重启系统。<br>成功了！(以后可以试一下用lvm动态调整分区)</li>
</ol>
<p>转载自 <a href="http://blog.chinaunix.net/uid-8747186-id-3189880.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-8747186-id-3189880.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/杂七杂八/">杂七杂八</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/22/Linux下用fdisk和resize2fs动态修改分区大小/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/21/树莓派（raspberrypi）安装aircrack-ng,reaver及wifi破解教程/"><span>树莓派（raspberrypi）安装aircrack-ng,reaver及wifi破解教程</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/21/树莓派（raspberrypi）安装aircrack-ng,reaver及wifi破解教程/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-20T21:54:51.000Z">
          2015-02-21
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>这篇文章主要应百度贴吧水友的要求，特写了一个小教程。让pi变得更有意思。<br>这个无线破解和PC上的原理是一样的，只不过平台换到了PI上。PI主要就是省电，放在那里跑一个月也没事。</p>
<p>回到正题：</p>
<p><strong>硬件环境</strong><br>树莓派B+一个（我用的是debian环境）<br>PC一台（或其它设备直接操作PI就行）<br>无线网卡（能用就行，不过强大的无线网卡会事半功倍，我用的3070）</p>
<p><strong>安装依赖包</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y libpcap-dev libsqlite3-dev sqlite3 libpcap0.8-dev libssl-dev build-essential iw tshark subversion</span><br><span class="line">sudo apt-get install libnl-3-200 libnl-3-dev libnl-3-doc libnl-genl-3-dev libnl-genl-3-200</span><br></pre></td></tr></table></figure></p>
<p><strong>安装aircarck-ng</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svn co http://svn.aircrack-ng.org/trunk/ aircrack-ng</span><br><span class="line">cd aircrack-ng/</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></p>
<p><strong>安装reaver</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http://reaver-wps.googlecode.com/files/reaver-1.4.tar.gz</span><br><span class="line">tar zxvf reaver-1.4.tar.gz</span><br><span class="line">cd reaver-1.4/src</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></p>
<p>如果上面下载的地址被墙，试下这个地址：/uploads/2015/02/reaver-1.4.tar.gz<br>如果安装成功后，会有airmon-ng,airodump-ng,reaver等命令可用。</p>
<p><strong>破解教程</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo airmon-ng start wlan0</span><br><span class="line">sudo airodump-ng mon0</span><br></pre></td></tr></table></figure></p>
<p><a href="/uploads/2015/02/1.png"><img src="/uploads/2015/02/1-300x215.png" alt="1"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo airodump-ng mon0</span><br></pre></td></tr></table></figure></p>
<p>根据上面的airodump搜索到的无线信号，然后可以挑信号强的进行破解（注意，要选择开了WPS功能的）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reaver -i mon0 -b 00:00:00:00:00:00 -a -S -vv -d2 -t 5 -c 11</span><br></pre></td></tr></table></figure></p>
<p><a href="/uploads/2015/02/2.png"><img src="/uploads/2015/02/2-300x69.png" alt="2"></a><br>如果想挂机破解，记得加上nohup命令后，可以断开ssh。然后剩下就是等待。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup sudo reaver -i mon0 -b 00:00:00:00:00:00 -a -S -vv -d2 -t 5 -c 11 -o fbi &amp;</span><br></pre></td></tr></table></figure></p>
<p><a href="/uploads/2015/02/2-2.png"><img src="/uploads/2015/02/2-2-300x73.png" alt="2-2"></a><br>如果破解成功后，打开输出的日志，就可以看到reaver出来的密码。<br><a href="/uploads/2015/02/3.png"><img src="/uploads/2015/02/3-300x96.png" alt="3"></a></p>
<p>转载自 <a href="http://lok.me/a/1972.html" target="_blank" rel="noopener">http://lok.me/a/1972.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/树莓派/">树莓派</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/21/树莓派（raspberrypi）安装aircrack-ng,reaver及wifi破解教程/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/19/Wordpress 批量关闭评论/"><span>Wordpress 批量关闭评论</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/19/Wordpress 批量关闭评论/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-18T21:46:45.000Z">
          2015-02-19
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>wordpress 并没有自带批量关闭所有文章评论的功能，这需要通过修改数据库来实现：</p>
<p>关闭所有文章的评论功能：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="string">`wp_posts`</span> <span class="keyword">SET</span><span class="string">`comment_status`</span>=<span class="string">'close'</span></span><br></pre></td></tr></table></figure></p>
<p>反之：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="string">`wp_posts`</span> <span class="keyword">SET</span><span class="string">`comment_status`</span>=<span class="string">'open'</span></span><br></pre></td></tr></table></figure></p>
<p>P.S. 过年了，也没啥文章好写了。。就把最近用到的东西拿出来记下，不过这博客不是本来就应该派这用处的么</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/建站相关/">建站相关</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/19/Wordpress 批量关闭评论/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/18/Ubuntu 14.04 安装搜狗输入法/"><span>Ubuntu 14.04 安装搜狗输入法</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/18/Ubuntu 14.04 安装搜狗输入法/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-17T21:43:26.000Z">
          2015-02-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>百度了几篇教程，发现都是要求卸载 ibus，其实这样做没必要，反而卸载后会导致系统工作不正常，比如系统设置里少了很多东西。<br>接下来我就把我自己安装搜狗输入法的过程记一下，以备不时之需。</p>
<p><strong>一、先安装 fcitx</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br><span class="line">apt-get update</span><br><span class="line">apt-get upgrade</span><br><span class="line">apt-get install fcitx</span><br></pre></td></tr></table></figure></p>
<p><a href="/uploads/2015/02/2015-02-18-133012-的屏幕截图.png"><img src="/uploads/2015/02/2015-02-18-133012-的屏幕截图-300x182.png" alt="2015-02-18 13:30:12 的屏幕截图"></a><br>当然我这里已经安装过了</p>
<p><strong>二、下载安装搜狗输入法</strong><br>访问 <a href="http://pinyin.sogou.com/linux/" target="_blank" rel="noopener">http://pinyin.sogou.com/linux/</a> 跟着教程来就行</p>
<p><strong>三、修改系统设置，使用搜狗输入法</strong><br>打开系统设置，选择语言支持<br><a href="/uploads/2015/02/2015-02-18-133754-的屏幕截图.png"><img src="/uploads/2015/02/2015-02-18-133754-的屏幕截图-300x217.png" alt="2015-02-18 13:37:54 的屏幕截图"></a><br>将键盘输入方式系统改为 fcitx<br><a href="/uploads/2015/02/2015-02-18-133826-的屏幕截图.png"><img src="/uploads/2015/02/2015-02-18-133826-的屏幕截图-232x300.png" alt="2015-02-18 13:38:26 的屏幕截图"></a><br>点击右上角切换当前输入法就可以使用啦<br><a href="/uploads/2015/02/2015-02-18-134221-的屏幕截图.png"><img src="/uploads/2015/02/2015-02-18-134221-的屏幕截图-300x169.png" alt="2015-02-18 13:42:21 的屏幕截图"></a></p>
<p>P.S. 另注各位节日快乐，恭喜发财</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Linux-Desktop/">Linux Desktop</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/18/Ubuntu 14.04 安装搜狗输入法/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/09/PHP 利用 redis 做统计缓存mysql的压力/"><span>PHP 利用 redis 做统计缓存mysql的压力</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/09/PHP 利用 redis 做统计缓存mysql的压力/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-09T07:41:09.000Z">
          2015-02-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    header(<span class="string">"Content-Type:text/html;charset=utf-8"</span>);</span><br><span class="line">    <span class="keyword">include</span> <span class="string">'lib/mysql.class.php'</span>;</span><br><span class="line">    $mysql_obj = mysql::getConn();</span><br><span class="line">    <span class="comment">//redis </span></span><br><span class="line">    $redis = <span class="keyword">new</span> Redis();</span><br><span class="line">    $redis-&gt;pconnect(<span class="string">'127.0.0.1'</span>, <span class="number">6379</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>($_SERVER[<span class="string">'HTTP_REFERER'</span>]))&#123;</span><br><span class="line">        $url_md5 = md5($_SERVER[<span class="string">'HTTP_REFERER'</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    $adve_key = <span class="string">'adve'</span>; </span><br><span class="line">    $adve_key_exists = <span class="string">'adve_exists'</span>;</span><br><span class="line">    <span class="keyword">if</span>(!$redis-&gt;exists($adve_key_exists))&#123;</span><br><span class="line">        $list = $mysql_obj-&gt;fetch_array(<span class="string">"select * from user_online_adve"</span>);</span><br><span class="line">        <span class="keyword">if</span>($list)&#123;</span><br><span class="line">            <span class="keyword">foreach</span> ($list <span class="keyword">as</span> $key =&gt; $value) &#123;</span><br><span class="line">                $url_hash = md5($value[<span class="string">'adve_url'</span>]);</span><br><span class="line">                $adve_hash_key = $adve_key.<span class="string">":"</span>.$url_hash;</span><br><span class="line">                $id = $value[<span class="string">'id'</span>];</span><br><span class="line">                $redis-&gt;set($adve_hash_key,$id);</span><br><span class="line">                $redis-&gt;set($adve_key_exists,<span class="keyword">true</span>);</span><br><span class="line">                <span class="comment">//$redis-&gt;hmset($adve_hash_key, array('id' =&gt;$id));</span></span><br><span class="line">                <span class="comment">//print_r($redis-&gt;get($adve_hash_key));</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $adve_new_key = $adve_key.<span class="string">':'</span>.$url_md5;</span><br><span class="line">    <span class="keyword">if</span>($redis-&gt;exists($adve_new_key))&#123;</span><br><span class="line">            $adve_plus = $adve_new_key.<span class="string">":plus"</span> ;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!$redis-&gt;exists($adve_plus))&#123;</span><br><span class="line">                $redis-&gt;set($adve_plus,<span class="number">1</span>);  </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                $redis-&gt;incr($adve_plus);</span><br><span class="line">                $num = $redis-&gt;get($adve_plus);</span><br><span class="line">                <span class="keyword">if</span>($num &gt;<span class="number">10</span>)&#123;</span><br><span class="line">                    $id = $redis-&gt;get($adve_new_key);</span><br><span class="line">                    <span class="comment">// insert to sql;</span></span><br><span class="line">                    $mysql_obj-&gt;query(<span class="string">"update user_online_adve set adve_num=adve_num+$num where id=$id"</span>);</span><br><span class="line">                    $redis-&gt;set($adve_plus,<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    header(<span class="string">'HTTP/1.0 301 Moved Permanently'</span>);</span><br><span class="line">    header(<span class="string">'Location: https://itunes.apple.com/cn/app/san-guo-zhi15-ba-wangno-da-lu/id694974270?mt=8'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    if()&#123;</span></span><br><span class="line"><span class="comment">            $adve_plus = $adve_key.":plus" ;</span></span><br><span class="line"><span class="comment">            if($redis-&gt;exists($adve_plus))&#123;</span></span><br><span class="line"><span class="comment">                $redis-&gt;incr($adve_plus);</span></span><br><span class="line"><span class="comment">            &#125;else&#123;</span></span><br><span class="line"><span class="comment">                $redis-&gt;set($adve_plus,1);  </span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            echo $redis-&gt;get($adve_plus);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    foreach ($list as $key =&gt; $value) &#123;</span></span><br><span class="line"><span class="comment">            $url_hash = md5($value['adve_url']);</span></span><br><span class="line"><span class="comment">            $id = $value['id'];</span></span><br><span class="line"><span class="comment">            $adve_num = $value['adve_num'];</span></span><br><span class="line"><span class="comment">            $adve_plus = $adve_key.":plus" ;</span></span><br><span class="line"><span class="comment">            if($redis-&gt;exists($adve_plus))&#123;</span></span><br><span class="line"><span class="comment">                $redis-&gt;incr($adve_plus);</span></span><br><span class="line"><span class="comment">            &#125;else&#123;</span></span><br><span class="line"><span class="comment">                $redis-&gt;set($adve_plus,1);  </span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            echo $redis-&gt;get($adve_plus);</span></span><br><span class="line"><span class="comment">            //if($redis-&gt;)</span></span><br><span class="line"><span class="comment">            //$redis-&gt;hmset($adve_key, array('id' =&gt;$id, 'adve_num'=&gt;$adve_num));</span></span><br><span class="line"><span class="comment">            //print_r($redis-&gt;hmget("adve:$url_hash", array('adve_num')));</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        print_r($list);</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>转载自 <a href="http://www.cnblogs.com/jackluo/p/3401999.html" target="_blank" rel="noopener">http://www.cnblogs.com/jackluo/p/3401999.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/09/PHP 利用 redis 做统计缓存mysql的压力/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/08/php class中public,private,protected,static的区别，以及实例/"><span>php class中public,private,protected,static的区别，以及实例</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/08/php class中public,private,protected,static的区别，以及实例/" rel="bookmark">
        <time class="entry-date published" datetime="2015-02-08T08:16:35.000Z">
          2015-02-08
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><strong>一，public,private,protected的区别</strong><br>public:权限是最大的，可以内部调用，实例调用等。<br>protected: 受保护类型，用于本类和继承类调用。<br>private: 私有类型，只有在本类中使用。</p>
<p><strong>二，实例</strong><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(E_ALL);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line"> <span class="keyword">public</span> $public;</span><br><span class="line"> <span class="keyword">private</span> $private;</span><br><span class="line"> <span class="keyword">protected</span> $protected;</span><br><span class="line"> <span class="keyword">static</span> $instance;</span><br><span class="line"> <span class="keyword">public</span>  <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;public    = <span class="string">'public     &lt;br&gt;'</span>;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;private   = <span class="string">'private    &lt;br&gt;'</span>;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;protected = <span class="string">'protected  &lt;br&gt;'</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">tank</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="keyword">self</span>::$instance[get_class()]))</span><br><span class="line"> &#123;</span><br><span class="line"> $c = get_class();</span><br><span class="line"> <span class="keyword">self</span>::$instance = <span class="keyword">new</span> $c;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">self</span>::$instance;</span><br><span class="line"> &#125;    </span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pub_function</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request public function&lt;br&gt;"</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;        <span class="comment">//private,内部可以调用</span></span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;      <span class="comment">//protected,内部可以调用</span></span><br><span class="line"> <span class="keyword">$this</span>-&gt;pri_function();      <span class="comment">//private方法，内部可以调用</span></span><br><span class="line"> <span class="keyword">$this</span>-&gt;pro_function();      <span class="comment">//protected方法，内部可以调用</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">protected</span>  <span class="function"><span class="keyword">function</span> <span class="title">pro_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request protected function&lt;br&gt;"</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">pri_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request private function&lt;br&gt;"</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$test = test::tank();</span><br><span class="line"><span class="keyword">echo</span> $test-&gt;public;</span><br><span class="line"><span class="keyword">echo</span> $test-&gt;private;    <span class="comment">//Fatal error: Cannot access private property test::$private</span></span><br><span class="line"><span class="keyword">echo</span> $test-&gt;protected;  <span class="comment">//Fatal error: Cannot access protected property test::$protected</span></span><br><span class="line">$test-&gt;pub_function();</span><br><span class="line">$test-&gt;pro_function();  <span class="comment">//Fatal error: Call to protected method test::pro_function() from context</span></span><br><span class="line">$test-&gt;pri_function();  <span class="comment">//Fatal error: Call to private method test::pri_function() from context</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>从上面的例子中，我们可以看出，<br>public:    可以class内部调用，可以实例化调用。<br>private:   可以class内部调用，实例化调用报错。<br>protected：  可以class内部调用，实例化调用报错。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line"> <span class="keyword">public</span> $public;</span><br><span class="line"> <span class="keyword">private</span> $private;</span><br><span class="line"> <span class="keyword">protected</span> $protected;</span><br><span class="line"> <span class="keyword">static</span> $instance;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span>  <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;public    = <span class="string">'public     &lt;br&gt;'</span>;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;private   = <span class="string">'private    &lt;br&gt;'</span>;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;protected = <span class="string">'protected  &lt;br&gt;'</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">tank</span><span class="params">()</span></span>&#123;                          <span class="comment">//私有方法不能继承，换成public,protected</span></span><br><span class="line"> <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="keyword">self</span>::$instance[get_class()]))</span><br><span class="line"> &#123;</span><br><span class="line"> $c = get_class();</span><br><span class="line"> <span class="keyword">self</span>::$instance = <span class="keyword">new</span> $c;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">self</span>::$instance;</span><br><span class="line"> &#125;    </span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pub_function</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request public function&lt;br&gt;"</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">protected</span>  <span class="function"><span class="keyword">function</span> <span class="title">pro_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request protected function&lt;br&gt;"</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">pri_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request private function&lt;br&gt;"</span>;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test1</span> <span class="keyword">extends</span> <span class="title">test</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">parent</span>::tank();</span><br><span class="line"> <span class="keyword">parent</span>::__construct();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">tank</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;       <span class="comment">//Notice: Undefined property: test1::$private</span></span><br><span class="line"> <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span><br><span class="line"> <span class="keyword">$this</span>-&gt;pub_function();</span><br><span class="line"> <span class="keyword">$this</span>-&gt;pro_function();</span><br><span class="line"> <span class="keyword">$this</span>-&gt;pri_function();    <span class="comment">//Fatal error: Call to private method test::pri_function() from context 'test1'</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span>  <span class="function"><span class="keyword">function</span> <span class="title">pro_extends_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request extends_protected function&lt;br&gt;"</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pri_extends_function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">echo</span> <span class="string">"you request extends_private function&lt;br&gt;"</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">error_reporting(E_ALL);</span><br><span class="line">$test = <span class="keyword">new</span> test1();</span><br><span class="line">$test -&gt; tank();       <span class="comment">//子类和父类有相同名字的属性和方法，实例化子类时，子类的中的属性和方法会盖掉父类的。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>从上面的例子中，我们可以看出，<br>public:    test中的public可以被继承。<br>private:   test中的private不可以被继承。<br>protected：  test中的protected可以被继承。<br>static：        test中的static可以被继承。</p>
<p>转载自 <a href="http://blog.163.com/wz_pk007/blog/static/170627050201143104938560/" target="_blank" rel="noopener">http://blog.163.com/wz_pk007/blog/static/170627050201143104938560/</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/08/php class中public,private,protected,static的区别，以及实例/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/02/01/MySQL的if，case语句使用总结/"><span>MySQL的if，case语句使用总结</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/02/01/MySQL的if，case语句使用总结/" rel="bookmark">
        <time class="entry-date published" datetime="2015-01-31T21:17:49.000Z">
          2015-02-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>Mysql的if既可以作为表达式用，也可在存储过程中作为流程控制语句使用，如下是做为表达式使用：</p>
<p><strong>IF表达式</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IF(expr1,expr2,expr3)</span><br></pre></td></tr></table></figure></p>
<p>如果 expr1 是TRUE (expr1 &lt;&gt; 0 and expr1 &lt;&gt; NULL)，则 IF()的返回值为expr2; 否则返回值则为 expr3。IF() 的返回值为数字值或字符串值，具体情况视其所在语境而定。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *,<span class="keyword">if</span>(sva=<span class="number">1</span>,<span class="string">"男"</span>,<span class="string">"女"</span>) <span class="keyword">as</span> ssva <span class="keyword">from</span> taname <span class="keyword">where</span> sva != <span class="string">""</span></span><br></pre></td></tr></table></figure></p>
<p><strong>作为表达式的if也可以用CASE when来实现：</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">CASE</span> sva <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'男'</span> <span class="keyword">ELSE</span> <span class="string">'女'</span> <span class="keyword">END</span> <span class="keyword">as</span> ssva <span class="keyword">from</span> taname <span class="keyword">where</span> sva != <span class="string">''</span></span><br></pre></td></tr></table></figure></p>
<p>在第一个方案的返回结果中， value=compare-value。而第二个方案的返回结果是第一种情况的真实结果。如果没有匹配的结果值，则返回结果为ELSE后的结果，如果没有ELSE 部分，则返回值为 NULL。<br>例如：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="number">1</span> <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'one'</span></span><br><span class="line">  <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">'two'</span> </span><br><span class="line">   <span class="keyword">ELSE</span> <span class="string">'more'</span> <span class="keyword">END</span></span><br><span class="line"><span class="keyword">as</span> testCol</span><br></pre></td></tr></table></figure></p>
<p>将输出one</p>
<p><strong>IFNULL(expr1,expr2)</strong><br>假如expr1 不为 NULL，则 IFNULL() 的返回值为 expr1; 否则其返回值为 expr2。IFNULL()的返回值是数字或是字符串，具体情况取决于其所使用的语境。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT IFNULL(1,0);</span><br><span class="line">        -&gt; 1</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT IFNULL(NULL,10);</span><br><span class="line">        -&gt; 10</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT IFNULL(1/0,10);</span><br><span class="line">        -&gt; 10</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT IFNULL(1/0,'yes');</span><br><span class="line">        -&gt; 'yes'</span><br></pre></td></tr></table></figure></p>
<p>IFNULL(expr1,expr2) 的默认结果值为两个表达式中更加“通用”的一个，顺序为STRING、 REAL或 INTEGER。</p>
<p><strong>IF ELSE 做为流程控制语句使用</strong><br>if实现条件判断，满足不同条件执行不同的操作，这个我们只要学编程的都知道if的作用了，下面我们来看看mysql 存储过程中的if是如何使用的吧。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">IF search_condition THEN </span><br><span class="line">    statement_list  </span><br><span class="line">[ELSEIF search_condition THEN]  </span><br><span class="line">    statement_list ...  </span><br><span class="line">[ELSE </span><br><span class="line">    statement_list]  </span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span></span><br></pre></td></tr></table></figure></p>
<p>与PHP中的IF语句类似，当IF中条件search_condition成立时，执行THEN后的statement_list语句，否则判断ELSEIF中的条件，成立则执行其后的statement_list语句，否则继续判断其他分支。当所有分支的条件均不成立时，执行ELSE分支。search_condition是一个条件表达式，可以由“=、&lt;、&lt;=、&gt;、&gt;=、!=”等条件运算符组成，并且可以使用AND、OR、NOT对多个表达式进行组合。<br>例如，建立一个存储过程，该存储过程通过学生学号（student_no）和课程编号（course_no）查询其成绩（grade），返回成绩和成绩的等级，成绩大于90分的为A级，小于90分大于等于80分的为B级，小于80分大于等于70分的为C级，依次到E级。那么，创建存储过程的代码如下：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> dbname.proc_getGrade  </span><br><span class="line">(stu_no <span class="built_in">varchar</span>(<span class="number">20</span>),cour_no <span class="built_in">varchar</span>(<span class="number">10</span>))  </span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">declare</span> stu_grade <span class="built_in">float</span>;  </span><br><span class="line"><span class="keyword">select</span> grade <span class="keyword">into</span> stu_grade <span class="keyword">from</span> grade <span class="keyword">where</span> student_no=stu_no <span class="keyword">and</span> course_no=cour_no;  </span><br><span class="line">if stu_grade&gt;=90 then </span><br><span class="line">    <span class="keyword">select</span> stu_grade,<span class="string">'A'</span>;  </span><br><span class="line">elseif stu_grade&lt;90 and stu_grade&gt;=80 then </span><br><span class="line">    <span class="keyword">select</span> stu_grade,<span class="string">'B'</span>;  </span><br><span class="line">elseif stu_grade&lt;80 and stu_grade&gt;=70 then </span><br><span class="line">    <span class="keyword">select</span> stu_grade,<span class="string">'C'</span>;  </span><br><span class="line">elseif stu_grade70 and stu_grade&gt;=60 then </span><br><span class="line">    <span class="keyword">select</span> stu_grade,<span class="string">'D'</span>;  </span><br><span class="line">else </span><br><span class="line">    <span class="keyword">select</span> stu_grade,<span class="string">'E'</span>;  </span><br><span class="line"><span class="keyword">end</span> <span class="keyword">if</span>;  </span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure></p>
<p>注意：IF作为一条语句，在END IF后需要加上分号“;”以表示语句结束，其他语句如CASE、LOOP等也是相同的。</p>
<p>转载自 <a href="http://outofmemory.cn/code-snippet/1149/MySQL-if-case-statement-usage-summary" target="_blank" rel="noopener">http://outofmemory.cn/code-snippet/1149/MySQL-if-case-statement-usage-summary</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2015/02/01/MySQL的if，case语句使用总结/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  <a href="/page/8/" class="pagination-prev">上一页</a>
  
  
  <a href="/page/10/" class="pagination-next">下一页</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2019 403 Forbidden
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>