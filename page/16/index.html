<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 16 页 | 博客</title>

  
  <meta name="author" content="403 Forbidden">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/categories">分类</a></li>
      
        <li><a href="/about.html">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/31/我们都会死很久，别活太着急/"><span>我们都会死很久，别活太着急</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/31/我们都会死很久，别活太着急/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-31T11:43:47.000Z">
          2014-01-31
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>有些人，总是活得很累，并非生活过于艰难，而是太容易被周围的环境所感染，被别人的情绪所影响。其实我们都是活给自己的，很少有人真的在意你，把你放在心上。很多时候，我们会不自觉的随大流，然后把自己弄的很忙、很累，然后我们自己很感动。觉得我付出这么多，却得到这么少，甚至什么都没得到，太不公平了。<br>前几天领导接了一电话，他高中同学，卖了奥运前拆迁的三套房子，全职在家炒股票，6年了，无论感冒发烧，刮风下雨，孩子生病，老婆离婚他都义无反顾的准时坐在电脑前面看大盘。可是这么多年了，他在股市上没有一分钱的收获，反而赔了40多万。领导安慰着他，问他对股票有什么心得！结果没听一会儿，领导就把电话挂了。我问领导“怎么了？”领导说“这就不是明白人，投资这个事，就好比种土豆（领导老家盛产土豆），你给土豆地施肥浇水、除虫锄草是为了让土豆长好，有好收成。你住的土豆地里，结果你什么都不干，连野猪来糟践土豆你都不管（他持有了一大堆连年亏损，且技术上下降趋势明显的股票），你还埋怨老天爷对你不公平，你都住土豆地里了，也不给你好收成。这太可笑了。”<br>是不是觉得似曾相识，无独有偶，很多姑娘跟我抱怨他们遇人不淑的时候，也是这个逻辑，她付出多少，牺牲多少，奉献多少，可是老天爷却给她一个“渣男”。让她伤心流泪，让她饱受伤害，让她生不如死。可是她们却忽视了，相伴终生这件事，重点是人，你得先把人找对了，再说付出、牺牲、奉献的事。<br>我的朋友A，两口子结婚，房子、家具、家电、酒席花光了所有积蓄，除了六个月的生活费，两个人什么都没有了。新婚三个月以后A算账，这三个月存了多少钱，花了多少钱，选了什么品种的理财，收益了多少，然后得出结论，三个月两个攒了四万多块钱。A老公听完了，看着A笑着说，没事，下周发了项目奖金就有五万多了，再下周发了工资就有六万多了。这就是好男人，他不会依靠你去解决问题，他会和你一起去解决问题，为你们的未来负责，踏踏实实跟你过日子。那些还没怎么着，先要求你付出这个，付出那个，让你帮他解决问题的男人，不能说对你没真心，至少证明他还没学会承担责任。<br>在众多的读书友邻里，我喜欢和Sofia聊天，我们是截然不同的女人，她会好几国语言，我除了北京话，方言都听着困难。她很温柔，对什么事都不生气，我情绪化。她年纪比我大，孩子大，而我的家庭生活刚刚开始没几年。我习惯每天做很多事，她倡导精简生活。可是我们很聊得来，我们在读书上有很大的相同之处，我们都习惯梳理框架，抓住重点阅读，把值得学习的地方都记下来。这让我们有最大的共同点，我们俩读书都很快，当所有人质疑我们俩读书为什么这么快，怎么写出书评的时候，只有我们俩能够理解对方，知道总结能给阅读带来多大的好处。<br>总结不光给阅读带来好处，也给写作带来好处。我们部门有个同事，他负责的栏目是行业，总是抱怨公司平台制约他，让他不能专心研究一个行业，耽误了他的青春，限制了他的发展。很多次他抱怨的时候，我都想说话，后来想想我大着肚子，别惹闲事儿，况且我说了他也听不懂。其实只要他踏实一下，总结一下之前写这个栏目同事的文章就能找到把这个栏目写好又提高自己的方法。之前写那个栏目的同事，跟他面对的资源，环境都一样，人家却可以用一周时间分五期，把一个行业写的透透的。让其他研究所的行业研究员托其他同事说“抽空我做东，你能不能把你们写**的研究员叫上，给我引见一下。”<br>做事情之前不妨好好的想想，把事情琢磨明白了再行动。行动之前的思考怎么才能达到目标，怎么才能把事做成了，这些都是行动之前重要的准备。抓住重点、梳理出框架、总结好行动的步骤。其实只要你自己梳理明白了，找到方向，就能把自己想做的事做成了。之所以说选择大于努力，很大程度上，是方向对了，才能到达目标；方向不对，你走的时间越长，离目标越远。我们都会死很久，别活太着急，停下来好好想想再干活，瞎忙只是感动了自己。不要急于攀附，所有的攀附都不能代表你自己的价值，你的价值在于做了什么，怎么做。 </p>
<p>博主评:<br>挺喜欢开头的那一段话的，”其实我们都是活给自己的，很少有人真的在意你，把你放在心上”，如果太在乎不必在乎的人了，自己会很累，最终”被别人的情绪所影响”。就像原文的评论里有一条，”<br>Sofia 2014-01-29 10:01:56<br>你想想，你现在怀着孕，要是被他们气到了，你多亏啊，还便宜了他们得了乐子。不理就最好。姐写了，你爱看就看，不爱看，右上角有X。<br>“哈哈，干嘛要去管某些人怎么想呢。<br>话说我熬夜熬多了。。貌似睡不着了。。晚安亲们。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/鼹鼠的土豆/">鼹鼠的土豆</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/31/我们都会死很久，别活太着急/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/29/关于 jquery 里 on 的用法/"><span>关于 jquery 里 on 的用法</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/29/关于 jquery 里 on 的用法/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-29T07:59:07.000Z">
          2014-01-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>突发奇想想给前一篇文章里说的那个播放器加个换一首的功能，结果发现了个很奇怪的问题。因为换一首的链接我是用在页面被加载的时候用 jquery 动态加载到小工具栏里的，所以直接导致了无法绑定我指定的 function，也就是单击链接以后没办法刷新获取下一首音乐。后来百度了下，发现需要使用 .live 事件来绑定。坑爹的是用了 .live 以后前台播放器直接罢工了，之后查了下在 jquery 1.9 里已经删除了 .live 事件，好吧，删除就删除了吧，又百度了一会，发现别人说道可以用 .on 事件替代 .live。可是，保存以后发现，点链接依旧无响应。问题是我找了好多的资料发现都是说可以用 .on 代替。。。之后换了个关键字，仔细看了下别人贴上来的源码，才发现 .on 不是这样用的。在看他的源码之前，我一直以为 .on 和 .live 一样只需要两个参数，即 $(被绑定元素).on(事件, function); 就可以搞定了，但是，现在根据我的理解发现，应该是 $(被绑定元素的父级元素).on(事件, 被绑定元素, function)。。。悲催。。。在这里记一笔以免以后忘记 = =</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/29/关于 jquery 里 on 的用法/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/29/无聊给博客加了个背景音乐/"><span>无聊给博客加了个背景音乐</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/29/无聊给博客加了个背景音乐/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-29T03:08:17.000Z">
          2014-01-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>如题。。顺手写了个管理中心。。这是我第一个用到 json 的玩意儿。。不过别说 json 还是挺方便的。。附源码及安装说明。。</p>
<p><strong>2014-01-31 重要更新，因在编写前一个版本时不熟悉 php 的 cookies 机制，导致 随机播放时避免重复播放 的功能未实现，后准备使用 jquery 将播放列表存到本地 cookies 然后随机调用，又发现 cookies 有大小限制。之后只能放弃了这个功能，现在只使用 cookies 记录当前播放的曲目以及服务器传回的播放列表中总计的曲目数量，以便进行顺序播放。</strong></p>
<p>一、先创建数据表<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="string">`music_list`</span> (</span><br><span class="line"><span class="string">`id`</span> <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> auto_increment,</span><br><span class="line"><span class="string">`name`</span> <span class="built_in">text</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">""</span>,</span><br><span class="line"><span class="string">`url`</span> <span class="built_in">text</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">""</span>,</span><br><span class="line"><span class="string">`singer`</span> <span class="built_in">text</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">""</span>,</span><br><span class="line"><span class="string">`lrc`</span> <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="number">0</span>,</span><br><span class="line"><span class="string">`lrc_data`</span> <span class="built_in">text</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">""</span>,</span><br><span class="line">primary <span class="keyword">key</span>(<span class="string">`id`</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>表示偷了个小懒全用的 text</p>
<p>二、上传文件至根目录，命名无所谓，必须 .php 结尾，本站的是 music_list.php<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    session_start();</span><br><span class="line">    header(<span class="string">"Content-type:text/html;charset=utf-8"</span>);</span><br><span class="line">    date_default_timezone_set(<span class="string">'Asia/Shanghai'</span>);</span><br><span class="line">    $pass=<span class="string">'经 md5 加密后的密码'</span>;</span><br><span class="line">    $link = @mysql_connect(<span class="string">"数据库服务器"</span>,<span class="string">'数据库用户名'</span>,<span class="string">'数据库密码'</span>,<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">if</span>(!$link) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">"Connect Server Failed: "</span> . mysql_error());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!mysql_select_db(<span class="string">'数据库名'</span>,$link)) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">"Select Database Failed: "</span> . mysql_error($link));</span><br><span class="line">    &#125;</span><br><span class="line">    mysql_query(<span class="string">'set names utf8'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_music</span><span class="params">($id=null)</span> </span>&#123;</span><br><span class="line">        $return_value=<span class="keyword">array</span>();</span><br><span class="line">        $select_query=mysql_query(<span class="string">'select * from `music_list`'</span>);</span><br><span class="line">        <span class="keyword">while</span> (($value=mysql_fetch_array($select_query))!==<span class="keyword">false</span>) &#123;</span><br><span class="line">            $return_tmp=<span class="keyword">array</span>();</span><br><span class="line">            $return_tmp[<span class="string">'name'</span>]=$value[<span class="string">'name'</span>];</span><br><span class="line">            $return_tmp[<span class="string">'url'</span>]=$value[<span class="string">'url'</span>];</span><br><span class="line">            $return_tmp[<span class="string">'singer'</span>]=$value[<span class="string">'singer'</span>];</span><br><span class="line">            $return_tmp[<span class="string">'id'</span>]=$value[<span class="string">'id'</span>];</span><br><span class="line">            $return_tmp[<span class="string">'lrc'</span>]=htmlspecialchars($value[<span class="string">'lrc'</span>]);</span><br><span class="line">            $return_tmp[<span class="string">'lrc_data'</span>]=str_replace(<span class="keyword">array</span>(<span class="string">"\r"</span>,<span class="string">"\n"</span>),<span class="keyword">array</span>(<span class="string">""</span>,<span class="string">"&lt;br /&gt;"</span>),$value[<span class="string">'lrc_data'</span>]);</span><br><span class="line">            $return_value[]=$return_tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($id==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> $return_value;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $return_values=$return_value[$id];</span><br><span class="line">            $return_values[<span class="string">'length'</span>]=count($return_value);</span><br><span class="line">            <span class="keyword">return</span> $return_values;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">chkid</span><span class="params">($id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>($id) &amp;&amp; is_numeric($id)) &#123;</span><br><span class="line">            $select_query=mysql_query(<span class="string">'select * from `music_list` where `id`=\''</span>.$id.<span class="string">'\''</span>);</span><br><span class="line">            <span class="keyword">if</span> (mysql_num_rows($select_query)==<span class="number">0</span>) &#123;</span><br><span class="line">                msg(<span class="string">'找不到数据'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        msg(<span class="string">'找不到数据'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_post_data</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!get_magic_quotes_gpc()) &#123;</span><br><span class="line">            $return_value=<span class="keyword">array</span>();</span><br><span class="line">            <span class="keyword">foreach</span> ($_POST <span class="keyword">as</span> $key=&gt;$value) &#123;</span><br><span class="line">                $return_value[$key]=addslashes($value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $return_value=$_POST;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $return_value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">msg</span><span class="params">($msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;p&gt;'</span>.$msg.<span class="string">'&lt;/p&gt;&lt;p&gt;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'"&gt;返回首页&lt;/a&gt;&lt;/p&gt;'</span>;</span><br><span class="line">        echo_footer();</span><br><span class="line">        <span class="keyword">exit</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">echo_header</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;html&gt;&lt;head&gt;&lt;meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0"/&gt;&lt;title&gt;博客背景音乐管理中心&lt;/title&gt;&lt;/head&gt;&lt;body&gt;'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">echo_footer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;/body&gt;&lt;/html&gt;'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'get_music'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($_GET[<span class="string">'id'</span>]!==<span class="string">''</span> &amp;&amp; is_numeric($_GET[<span class="string">'id'</span>])) &#123;</span><br><span class="line">            $output=get_music($_GET[<span class="string">'id'</span>]);</span><br><span class="line">            preg_match_all(<span class="string">"/^(http:\/\/.*\/)(.*?)$/"</span>,$output[<span class="string">'url'</span>],$outputtmp);</span><br><span class="line">            $output[<span class="string">'url'</span>]=$outputtmp[<span class="number">1</span>][<span class="number">0</span>].rawurlencode($outputtmp[<span class="number">2</span>][<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">foreach</span> ($output <span class="keyword">as</span> $k=&gt;$v) &#123;</span><br><span class="line">                $output[$k]=urlencode($v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">echo</span> urldecode(json_encode($output));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">exit</span>();</span><br><span class="line">    &#125; <span class="keyword">elseif</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'get_music_list'</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> json_encode(get_music());</span><br><span class="line">        <span class="keyword">exit</span>();</span><br><span class="line">    &#125; <span class="keyword">elseif</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'login'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($_SESSION[<span class="string">'admin'</span>]==<span class="string">'admin'</span>) &#123;</span><br><span class="line">            header(<span class="string">'Location: '</span>.$_SERVER[<span class="string">'PHP_SELF'</span>]);</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        echo_header();</span><br><span class="line">        <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">            <span class="keyword">if</span> (md5($_POST[<span class="string">'password'</span>])==$pass) &#123;</span><br><span class="line">                $_SESSION[<span class="string">'admin'</span>]=<span class="string">'admin'</span>;</span><br><span class="line">                header(<span class="string">'Location: '</span>.$_SERVER[<span class="string">'PHP_SELF'</span>]);</span><br><span class="line">                <span class="keyword">exit</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;p&gt;密码错误&lt;/p&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;form action="" method="post"&gt;&lt;p&gt;&lt;label&gt;请输入密码:&lt;input type="password" name="password" /&gt;&lt;/label&gt;&lt;/p&gt;&lt;p&gt;&lt;input type="submit" name="submit" value="提交" /&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">        echo_footer();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ($_SESSION[<span class="string">'admin'</span>]!==<span class="string">'admin'</span>) &#123;</span><br><span class="line">            header(<span class="string">'Location: '</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=login'</span>);</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        echo_header();</span><br><span class="line">        <span class="keyword">if</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'del'</span>) &#123;</span><br><span class="line">            chkid($_GET[<span class="string">'id'</span>]);</span><br><span class="line">            <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">                $del_query=mysql_query(<span class="string">'delete from `music_list` where `id`=\''</span>.$_GET[<span class="string">'id'</span>].<span class="string">'\''</span>);</span><br><span class="line">                <span class="keyword">if</span> ($del_query) &#123;</span><br><span class="line">                    msg(<span class="string">'删除成功'</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    msg(<span class="string">'删除失败'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $select_query=mysql_fetch_array(mysql_query(<span class="string">'select * from `music_list` where `id`=\''</span>.$_GET[<span class="string">'id'</span>].<span class="string">'\''</span>));</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;form action="" method="post"&gt;&lt;p&gt;您确定要删除 '</span>.$select_query[<span class="string">'name'</span>].<span class="string">' - '</span>.$select_query[<span class="string">'singer'</span>].<span class="string">'么？&lt;/p&gt;&lt;p&gt;&lt;input type="submit" name="submit" value="确定" /&gt;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'"&gt;取消&lt;/a&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'edit'</span>) &#123;</span><br><span class="line">            chkid($_GET[<span class="string">'id'</span>]);</span><br><span class="line">            <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">                $post_data=get_post_data();</span><br><span class="line">                $update_query=mysql_query(<span class="string">'update `music_list` set `name`=\''</span>.$post_data[<span class="string">'name'</span>].<span class="string">'\', `url`=\''</span>.$post_data[<span class="string">'url'</span>].<span class="string">'\', `singer`=\''</span>.$post_data[<span class="string">'singer'</span>].<span class="string">'\', `lrc`=\''</span>.$post_data[<span class="string">'lrc'</span>].<span class="string">'\', `lrc_data`=\''</span>.$post_data[<span class="string">'lrc_data'</span>].<span class="string">'\' where `id`=\''</span>.$_GET[<span class="string">'id'</span>].<span class="string">'\''</span>);</span><br><span class="line">                <span class="keyword">if</span> ($update_query) &#123;</span><br><span class="line">                    msg(<span class="string">'数据插入成功'</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    msg(<span class="string">'数据插入失败'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $select_query=mysql_fetch_array(mysql_query(<span class="string">'select * from `music_list` where `id`=\''</span>.$_GET[<span class="string">'id'</span>].<span class="string">'\''</span>));</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;form action="" method="post"&gt;&lt;p&gt;&lt;label&gt;歌名:&lt;input type="text" name="name" value="'</span>.$select_query[<span class="string">'name'</span>].<span class="string">'" /&gt;&lt;/p&gt;&lt;p&gt;&lt;label&gt;歌手:&lt;input type="text" name="singer" value="'</span>.$select_query[<span class="string">'singer'</span>].<span class="string">'" /&gt;&lt;/p&gt;&lt;p&gt;&lt;label&gt;下载地址:&lt;input type="text" name="url" value="'</span>.$select_query[<span class="string">'url'</span>].<span class="string">'" /&gt;&lt;/p&gt;&lt;p&gt;显示 lrc 歌词: &lt;label&gt;&lt;input type="radio" name="lrc" value="1" '</span>.($select_query[<span class="string">'lrc'</span>]?<span class="string">'checked="checked" '</span>:<span class="string">''</span>).<span class="string">'/&gt;是&lt;/label&gt;&amp;nbsp;&amp;nbsp;&lt;label&gt;&lt;input type="radio" name="lrc" value="0" '</span>.(!$select_query[<span class="string">'lrc'</span>]?<span class="string">'checked="checked" '</span>:<span class="string">''</span>).<span class="string">'/&gt;否&lt;/label&gt;&lt;/p&gt;&lt;p&gt;lrc 歌词(可选):&lt;br /&gt;&lt;textarea name="lrc_data"&gt;'</span>.htmlspecialchars($select_query[<span class="string">'lrc_data'</span>]).<span class="string">'&lt;/textarea&gt;&lt;/p&gt;&lt;p&gt;&lt;input type="submit" name="submit" value="确定" /&gt;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'"&gt;取消&lt;/a&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'search'</span>) &#123;</span><br><span class="line">            $post_data=get_post_data();</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">'&lt;form action="?action=search" method="post"&gt;&lt;p&gt;&lt;input name="search" type="text" value="'</span>.$post_data[<span class="string">'search'</span>].<span class="string">'"/&gt;&lt;/p&gt;&lt;p&gt;&lt;input type="submit" value="搜索" /&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">            <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">                $search_query=mysql_query(<span class="string">'select * from `music_list` where `name` like \'%'</span>.$post_data[<span class="string">'search'</span>].<span class="string">'%\' or `singer` like \'%'</span>.$post_data[<span class="string">'search'</span>].<span class="string">'%\' or `url` like \'%'</span>.$post_data[<span class="string">'search'</span>].<span class="string">'%\''</span>);</span><br><span class="line">                <span class="keyword">if</span> (mysql_num_rows($search_query)&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">echo</span> <span class="string">'&lt;ol&gt;'</span>;</span><br><span class="line">                    <span class="keyword">while</span> (($value=mysql_fetch_array($search_query))!==<span class="keyword">false</span>) &#123;</span><br><span class="line">                        <span class="keyword">echo</span> <span class="string">'&lt;li&gt;'</span>.$value[<span class="string">'name'</span>].<span class="string">' - '</span>.$value[<span class="string">'singer'</span>].<span class="string">'&amp;nbsp;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=edit&amp;id='</span>.$value[<span class="string">'id'</span>].<span class="string">'"&gt;编辑&lt;/a&gt;&amp;nbsp;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=del&amp;id='</span>.$value[<span class="string">'id'</span>].<span class="string">'"&gt;删除&lt;/a&gt;&lt;/li&gt;'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">echo</span> <span class="string">'&lt;/ol&gt;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'"&gt;返回首页&lt;/a&gt;'</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">echo</span> <span class="string">'&lt;p&gt;无搜索结果&lt;/p&gt;'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> ($_GET[<span class="string">'action'</span>]==<span class="string">'add'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">                $post_data=get_post_data();</span><br><span class="line">                $insert_query=mysql_query(<span class="string">'insert into `music_list`(`name`,`url`,`singer`,`lrc`,`lrc_data`) values(\''</span>.$post_data[<span class="string">'name'</span>].<span class="string">'\',\''</span>.$post_data[<span class="string">'url'</span>].<span class="string">'\',\''</span>.$post_data[<span class="string">'singer'</span>].<span class="string">'\',\''</span>.$post_data[<span class="string">'lrc'</span>].<span class="string">'\',\''</span>.$post_data[<span class="string">'lrc_data'</span>].<span class="string">'\')'</span>);</span><br><span class="line">                <span class="keyword">if</span> ($insert_query) &#123;</span><br><span class="line">                    msg(<span class="string">'数据插入成功'</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    msg(<span class="string">'数据插入失败'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">'&lt;form action="" method="post"&gt;&lt;p&gt;&lt;label&gt;歌名:&lt;input type="text" name="name" /&gt;&lt;/p&gt;&lt;p&gt;&lt;label&gt;歌手:&lt;input type="text" name="singer" /&gt;&lt;/p&gt;&lt;p&gt;&lt;label&gt;下载地址:&lt;input type="text" name="url" value="http://" /&gt;&lt;/p&gt;&lt;p&gt;显示 lrc 歌词: &lt;label&gt;&lt;input type="radio" name="lrc" value="1" /&gt;是&lt;/label&gt;&amp;nbsp;&amp;nbsp;&lt;label&gt;&lt;input type="radio" name="lrc" value="0" checked="checked" /&gt;否&lt;/label&gt;&lt;/p&gt;&lt;p&gt;lrc 歌词(可选):&lt;br /&gt;&lt;textarea name="lrc_data"&gt;'</span>.htmlspecialchars($select_query[<span class="string">'lrc_data'</span>]).<span class="string">'&lt;/textarea&gt;&lt;/p&gt;&lt;p&gt;&lt;input type="submit" name="submit" value="确定" /&gt;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'"&gt;取消&lt;/a&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="keyword">echo</span> <span class="string">'&lt;form action="?action=search" method="post"&gt;&lt;p&gt;&lt;input name="search" type="text" /&gt;&lt;/p&gt;&lt;p&gt;&lt;input type="submit" value="搜索" /&gt;&lt;/p&gt;&lt;/form&gt;'</span>;</span><br><span class="line">             $all_list=get_music();</span><br><span class="line">             <span class="keyword">echo</span> <span class="string">'&lt;ol&gt;'</span>;</span><br><span class="line">             <span class="keyword">foreach</span> ($all_list <span class="keyword">as</span> $value) &#123;</span><br><span class="line">                 <span class="keyword">echo</span> <span class="string">'&lt;li&gt;'</span>.$value[<span class="string">'name'</span>].<span class="string">' - '</span>.$value[<span class="string">'singer'</span>].<span class="string">'&amp;nbsp;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=edit&amp;id='</span>.$value[<span class="string">'id'</span>].<span class="string">'"&gt;编辑&lt;/a&gt;&amp;nbsp;&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=del&amp;id='</span>.$value[<span class="string">'id'</span>].<span class="string">'"&gt;删除&lt;/a&gt;&lt;/li&gt;'</span>;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">echo</span> <span class="string">'&lt;/ol&gt;'</span>;</span><br><span class="line">             <span class="keyword">echo</span> <span class="string">'&lt;a href="'</span>.$_SERVER[<span class="string">'PHP_SELF'</span>].<span class="string">'?action=add"&gt;添加新曲目&lt;/a&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        echo_footer();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>注意不要忘记修改数据库信息和登录密码</p>
<p>三、前台创建小工具<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/json2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/jquery.cookie.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /*</span></span><br><span class="line"><span class="undefined">             * Lyric support by kookxiang(http://ikk.me)</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_player</span> &#123; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">max-height</span>: <span class="number">40px</span>; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc</span> &#123; <span class="attribute">height</span>: <span class="number">125px</span>; <span class="attribute">overflow</span>: auto; <span class="attribute">padding</span>: <span class="number">0</span>; <span class="attribute">margin</span>: <span class="number">0</span>; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc</span> <span class="selector-tag">li</span> &#123; <span class="attribute">display</span>: block; <span class="attribute">text-align</span>: center; <span class="attribute">color</span>: gray; <span class="attribute">line-height</span>: <span class="number">20px</span>; <span class="attribute">margin</span>: <span class="number">2px</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">0</span> <span class="meta">!important</span>; <span class="attribute">min-height</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc</span> <span class="selector-class">.current</span> &#123; <span class="attribute">color</span>: black; <span class="attribute">font-weight</span>: bold; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc</span>, <span class="selector-class">.kk_lrc</span> * &#123; <span class="attribute">-webkit-transition-duration</span>: <span class="number">1s</span>; <span class="attribute">-moz-transition-duration</span>: <span class="number">1s</span>; <span class="attribute">transition-duration</span>: <span class="number">1s</span>; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc</span> <span class="selector-pseudo">::selection</span> &#123; <span class="attribute">background</span>: transparent; <span class="attribute">background</span>: <span class="built_in">rgba</span>(127, 127, 127, 0.1); &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc_box</span> &#123; <span class="attribute">position</span>: relative; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc_box</span><span class="selector-pseudo">:before</span> &#123; <span class="attribute">content</span>: <span class="string">'.'</span>; <span class="attribute">overflow</span>: hidden; <span class="attribute">text-indent</span>: -<span class="number">9999px</span>; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">height</span>: <span class="number">30px</span>; <span class="attribute">z-index</span>: <span class="number">1</span>; <span class="attribute">display</span>: block; <span class="attribute">position</span>: absolute; <span class="attribute">background</span>: <span class="built_in">url</span>(http://lab.imjs.work/getlrc/cover.png) repeat-x <span class="number">0</span> <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">pointer-events</span>: none; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.kk_lrc_box</span><span class="selector-pseudo">:after</span> &#123; <span class="attribute">content</span>: <span class="string">'.'</span>; <span class="attribute">overflow</span>: hidden; <span class="attribute">text-indent</span>: -<span class="number">9999px</span>; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">height</span>: <span class="number">30px</span>; <span class="attribute">z-index</span>: <span class="number">1</span>; <span class="attribute">display</span>: block; <span class="attribute">position</span>: absolute; <span class="attribute">background</span>: <span class="built_in">url</span>(http://lab.imjs.work/getlrc/cover.png) repeat-x <span class="number">0</span> <span class="number">100%</span>; <span class="attribute">bottom</span>: <span class="number">0</span>; <span class="attribute">pointer-events</span>: none; &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-pseudo">::-webkit-scrollbar</span> &#123; <span class="attribute">width</span>: <span class="number">8px</span>; <span class="attribute">height</span>: <span class="number">8px</span>;&#125;</span></span><br><span class="line"><span class="css">            <span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123; <span class="attribute">-webkit-border-radius</span>: <span class="number">10px</span>; <span class="attribute">border-radius</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123; <span class="attribute">-webkit-border-radius</span>: <span class="number">10px</span>; <span class="attribute">border-radius</span>: <span class="number">10px</span>; <span class="attribute">background</span>: <span class="built_in">rgba</span>(96, 96, 96, 0.8); <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.5); &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:window-inactive</span> &#123; <span class="attribute">background</span>: <span class="built_in">rgba</span>(96, 96, 96, 0.4); &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ael=<span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> tmp_interval=[<span class="number">0</span>,<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">get_lrc</span>(<span class="params">name,singer</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);  </span></span><br><span class="line"><span class="javascript">    script.setAttribute(<span class="string">'src'</span>, <span class="string">"http://lab.liujiantao.me/lrc/?name="</span>+<span class="built_in">encodeURIComponent</span>(name)+<span class="string">"&amp;singer="</span>+<span class="built_in">encodeURIComponent</span>(singer)+<span class="string">"&amp;callback=con_lrc"</span>);  </span></span><br><span class="line"><span class="javascript">    <span class="comment">//load javascript  </span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(script);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">con_lrc</span>(<span class="params">lrc_data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> err_msg=&#123;<span class="string">"-1"</span>:<span class="string">"服务器没有接收到完整数据"</span>,<span class="string">"-2"</span>:<span class="string">"无法正常获取 xml 文件"</span>,<span class="string">"-3"</span>:<span class="string">"找不到该曲目"</span>,<span class="string">"-4"</span>:<span class="string">"未收录 lrc 歌词"</span>,<span class="string">"-5"</span>:<span class="string">"无法正常获取 lrc 歌词"</span>&#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (lrc_data.status==<span class="string">"error"</span>) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.error(err_msg[lrc_data.errcode]);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#kk_lrc_box"</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="xml">    $("#player_lrc").html("<span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>");</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> kk_lrc = load_kk_lrc();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;lrc_data.result.length;j++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> lrcArray=lrc_data.result[j].split(<span class="string">"&lt;br /&gt;"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timeKey=<span class="keyword">new</span> <span class="built_in">Object</span>();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> strArray=<span class="keyword">new</span> <span class="built_in">Array</span>();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> _offset=lrc_data.result[j].match(<span class="regexp">/\[offset.*?(\d*?)\]/</span>);</span></span><br><span class="line"><span class="javascript">        _offset=(<span class="keyword">typeof</span> _offset==<span class="string">"undefined"</span> || _offset===<span class="literal">null</span>)?<span class="number">0</span>:_offset[<span class="number">1</span>]/<span class="number">1000</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>,l = lrcArray.length;i &lt; l;i++) &#123;</span></span><br><span class="line"><span class="javascript">            clause = <span class="built_in">decodeURIComponent</span>(lrcArray[i]).replace(<span class="regexp">/\[\d*?:\d*?([\.:]\d*?)?\]/g</span>,<span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">            timeRegExpArr = <span class="built_in">decodeURIComponent</span>(lrcArray[i]).match(<span class="regexp">/\[(\d*?):(\d*?)([\.:](\d*?))?\]/g</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (timeRegExpArr!=<span class="literal">null</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>,h = timeRegExpArr.length;k &lt; h;k++) &#123; <span class="comment">//第一遍循环，JSON存储歌词，数组存储时间</span></span></span><br><span class="line"><span class="javascript">                    _timeRegExpArr = timeRegExpArr[k].match(<span class="regexp">/^\[(\d*?):(\d*?)([\.:](\d*?))?\]$/</span>);</span></span><br><span class="line"><span class="javascript">                    min = <span class="built_in">parseFloat</span>(_timeRegExpArr[<span class="number">1</span>]);</span></span><br><span class="line"><span class="javascript">                    sec = <span class="built_in">parseFloat</span>(_timeRegExpArr[<span class="number">2</span>]);</span></span><br><span class="line"><span class="javascript">                    msec = <span class="built_in">parseFloat</span>(<span class="keyword">typeof</span> _timeRegExpArr[<span class="number">4</span>]==<span class="string">"undefined"</span>?<span class="number">0</span>:_timeRegExpArr[<span class="number">4</span>]);</span></span><br><span class="line"><span class="undefined">                    time=min * 60 + sec + msec/100 - _offset;</span></span><br><span class="line"><span class="undefined">                    time=(time&lt;0)?0:time;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (!timeKey[time]) &#123;</span></span><br><span class="line"><span class="undefined">                        strArray.push(time);</span></span><br><span class="line"><span class="javascript">                        timeKey[time] = clause + <span class="string">'&lt;br /&gt;'</span>;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        timeKey[time] += clause + <span class="string">'&lt;br /&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        strArray.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> a - b;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>,l = strArray.length;i &lt; l;i++) &#123; <span class="comment">//第二遍循环，JSON存储时间，数组存储歌词</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tempIndex = strArray[i],</span></span><br><span class="line"><span class="undefined">            tempClause = timeKey[tempIndex];</span></span><br><span class="line"><span class="undefined">            kk_lrc.add_lrc(tempIndex,tempClause);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    kk_lrc.init();</span></span><br><span class="line"><span class="javascript">    ael=<span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">add_lrc</span>(<span class="params">lrc_data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    con_lrc(&#123;<span class="string">'status'</span>:<span class="string">'success'</span>,<span class="string">'errcode'</span>:<span class="string">'0'</span>,<span class="string">'result'</span>:[lrc_data.replace(<span class="string">"\n"</span>,<span class="string">"&lt;br /&gt;"</span>)]&#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">/*</span></span><br><span class="line"><span class="javascript"> * Lyric support by kookxiang(http:<span class="comment">//ikk.me)</span></span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">load_kk_lrc</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> kk_lrc = <span class="keyword">new</span> <span class="built_in">Object</span>();</span></span><br><span class="line"><span class="undefined">    kk_lrc.extra_top = 1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.current = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.current_obj;</span></span><br><span class="line"><span class="undefined">    kk_lrc.offset = 0;</span></span><br><span class="line"><span class="undefined">    kk_lrc.current_start = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.next_update_time = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.showtime = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.lrc_offset = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.lrc_height = -1;</span></span><br><span class="line"><span class="undefined">    kk_lrc.lrc = [];</span></span><br><span class="line"><span class="javascript">    kk_lrc.lrcobj = <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    kk_lrc.target = 0;</span></span><br><span class="line"><span class="undefined">    kk_lrc._target = 0;</span></span><br><span class="line"><span class="javascript">    kk_lrc.player_obj = <span class="built_in">document</span>.getElementById(<span class="string">'player_player'</span>);</span></span><br><span class="line"><span class="javascript">    kk_lrc.lrc_obj = <span class="built_in">document</span>.getElementById(<span class="string">'player_lrc'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    kk_lrc.scroll_lrc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="keyword">typeof</span> kk_lrc.lrc[kk_lrc.current+<span class="number">2</span>] != <span class="string">"undefined"</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span>(id <span class="keyword">in</span> kk_lrc.lrcobj) kk_lrc.lrcobj[id].className = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">            kk_lrc.lrcobj[kk_lrc.current+<span class="number">3</span>].className = <span class="string">'current'</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        kk_lrc.current_start = kk_lrc.lrc[kk_lrc.current];</span></span><br><span class="line"><span class="undefined">        kk_lrc.current++;</span></span><br><span class="line"><span class="undefined">        kk_lrc.current_obj = kk_lrc.lrcobj[kk_lrc.current+2];</span></span><br><span class="line"><span class="undefined">        kk_lrc.next_update_time = kk_lrc.lrc[kk_lrc.current];</span></span><br><span class="line"><span class="undefined">        kk_lrc.showtime = kk_lrc.next_update_time - kk_lrc.current_start;</span></span><br><span class="line"><span class="undefined">        kk_lrc.lrc_offset = kk_lrc.current_obj.offsetTop;</span></span><br><span class="line"><span class="undefined">        kk_lrc.lrc_height = kk_lrc.current_obj.offsetHeight;</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    kk_lrc.check_lrc_update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> curTime = kk_lrc.player_obj.currentTime;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(curTime &gt;= kk_lrc.next_update_time - <span class="number">0.2</span>)&#123;</span></span><br><span class="line"><span class="undefined">            kk_lrc.scroll_lrc();</span></span><br><span class="line"><span class="undefined">            kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="keyword">typeof</span> kk_lrc.lrc[kk_lrc.current<span class="number">-1</span>] != <span class="string">"undefined"</span>)&#123;</span></span><br><span class="line"><span class="undefined">            kk_lrc.extra_top = (kk_lrc.next_update_time - curTime) / kk_lrc.showtime;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        kk_lrc.target = <span class="built_in">Math</span>.round(kk_lrc.lrc_offset - (<span class="number">125</span> - kk_lrc.lrc_height) / <span class="number">2</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(kk_lrc.target &lt; <span class="number">0</span>) kk_lrc.target = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    kk_lrc.init = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        kk_lrc.add_lrc(<span class="string">'999999'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">        kk_lrc.add_lrc(<span class="string">'999999'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">        kk_lrc.add_lrc(<span class="string">'999999'</span>, <span class="string">''</span>);</span></span><br><span class="line"><span class="undefined">        kk_lrc.current = -1;</span></span><br><span class="line"><span class="javascript">        kk_lrc.lrcobj = kk_lrc.lrc_obj.getElementsByTagName(<span class="string">'li'</span>);</span></span><br><span class="line"><span class="undefined">        kk_lrc.current_obj = kk_lrc.lrcobj[0];</span></span><br><span class="line"><span class="undefined">        kk_lrc.scroll_lrc();</span></span><br><span class="line"><span class="undefined">        kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (ael==<span class="literal">false</span>) &#123;</span></span><br><span class="line"><span class="javascript">        kk_lrc.player_obj.addEventListener(<span class="string">"seeked"</span> ,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            kk_lrc.current = -1;</span></span><br><span class="line"><span class="undefined">            kk_lrc.scroll_lrc();</span></span><br><span class="line"><span class="undefined">            kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="javascript">        kk_lrc.player_obj.addEventListener(<span class="string">"durationchange"</span> ,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            kk_lrc.current = -1;</span></span><br><span class="line"><span class="undefined">            kk_lrc.scroll_lrc();</span></span><br><span class="line"><span class="undefined">            kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                    clearInterval(tmp_interval[0]);</span></span><br><span class="line"><span class="undefined">                    clearInterval(tmp_interval[1]);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">        tmp_interval[<span class="number">0</span>]=setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(kk_lrc.player_obj.paused) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(kk_lrc.current_start &gt; kk_lrc.player_obj.currentTime)&#123;</span></span><br><span class="line"><span class="undefined">                    kk_lrc.current = -1;</span></span><br><span class="line"><span class="undefined">                    kk_lrc.scroll_lrc();</span></span><br><span class="line"><span class="undefined">                    kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="undefined">                    kk_lrc.check_lrc_update();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;, 100);</span></span><br><span class="line"><span class="javascript">            tmp_interval[<span class="number">1</span>]=setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(kk_lrc._target == kk_lrc.target) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(kk_lrc.lrc_obj.scrollTop - kk_lrc._target) &gt; kk_lrc.lrc_height)&#123;</span></span><br><span class="line"><span class="undefined">                    kk_lrc._target = kk_lrc.lrc_obj.scrollTop;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(kk_lrc.player_obj.paused)&#123;</span></span><br><span class="line"><span class="undefined">                    kk_lrc._target = kk_lrc.fixFloat(kk_lrc._target * 0.8 + kk_lrc.target * 0.2);</span></span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="undefined">                    kk_lrc._target = kk_lrc.fixFloat(kk_lrc._target * 0.98 + kk_lrc.target * 0.02);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                kk_lrc.lrc_obj.scrollTop = kk_lrc._target;</span></span><br><span class="line"><span class="undefined">            &#125;, 5);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    kk_lrc.add_lrc = <span class="function"><span class="keyword">function</span> (<span class="params">time, lrc</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        kk_lrc.lrc.push(<span class="built_in">parseFloat</span>(time) + kk_lrc.offset);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> lrc_line = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span></span><br><span class="line"><span class="undefined">        lrc_line.innerHTML = lrc;</span></span><br><span class="line"><span class="undefined">        kk_lrc.lrc_obj.appendChild(lrc_line);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    kk_lrc.get_lrc = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(<span class="keyword">typeof</span> kk_lrc.lrc[num] != <span class="string">"undefined"</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> kk_lrc.lrc[num][<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="string">''</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    kk_lrc.setoffset = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">        kk_lrc.offset = num / 1000;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    kk_lrc.fixFloat = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">Math</span>.ceil(num * <span class="number">10</span>) / <span class="number">10</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> kk_lrc;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">get_music</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#audio_player"</span>).html(<span class="string">'&lt;p&gt;正在加载播放器，请稍候&lt;/p&gt;'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="string">"undefined"</span>==<span class="keyword">typeof</span> $.cookie(<span class="string">"music_list"</span>) || $.cookie(<span class="string">"music_list"</span>)==<span class="literal">null</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> music_id=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> cookie_music=<span class="built_in">JSON</span>.parse($.cookie(<span class="string">"music_list"</span>));</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> ((cookie_music[<span class="string">'id'</span>]+<span class="number">1</span>)==cookie_music[<span class="string">'length'</span>]) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> music_id=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> music_id=cookie_music[<span class="string">'id'</span>]+<span class="number">1</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> music_id=(<span class="string">"undefined"</span>!==<span class="keyword">typeof</span> <span class="built_in">arguments</span>[<span class="number">0</span>])?<span class="built_in">arguments</span>[<span class="number">0</span>]:music_id;</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">            type: <span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">            url: <span class="string">'/music_list.php'</span>,</span></span><br><span class="line"><span class="javascript">            dataType: <span class="string">'json'</span>,</span></span><br><span class="line"><span class="undefined">            timeout: 3000,</span></span><br><span class="line"><span class="javascript">            data: &#123;<span class="string">"action"</span>:<span class="string">"get_music"</span>,<span class="string">"id"</span>:music_id&#125;,</span></span><br><span class="line"><span class="javascript">            success: <span class="function"><span class="keyword">function</span>(<span class="params">music</span>) </span>&#123;</span></span><br><span class="line"><span class="xml">                $("#audio_player").html('<span class="tag">&lt;<span class="name">p</span>&gt;</span>当前<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"audio_player_status"</span>&gt;</span>正在缓冲准备播放<span class="tag">&lt;/<span class="name">span</span>&gt;</span>的是:<span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"music_name"</span>&gt;</span>' +  music['name'] + ' - ' + music['singer'] + '<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"####"</span> <span class="attr">id</span>=<span class="string">"reload_audio_player"</span>&gt;</span>换一首<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>');</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (<span class="keyword">typeof</span> $(<span class="string">"#audio_list"</span>).html()!==<span class="string">'undefined'</span>) $(<span class="string">"#audio_list"</span>).html($(<span class="string">"#audio_list"</span>).html().replace(<span class="regexp">/&lt;\/?span.*?&gt;/g</span>,<span class="string">''</span>).replace($(<span class="string">"#music_name"</span>).html(),<span class="string">'&lt;span style="font-weight: bold; color: red"&gt;'</span>+$(<span class="string">"#music_name"</span>).html()+<span class="string">'&lt;/span&gt;'</span>));</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> ($(<span class="built_in">document</span>).width()&gt;=<span class="number">768</span> &amp;&amp; (<span class="keyword">new</span> <span class="built_in">Date</span>().getHours()&gt;=<span class="number">8</span> &amp;&amp; <span class="keyword">new</span> <span class="built_in">Date</span>().getHours()&lt;<span class="number">23</span>)) &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"#player_player"</span>).attr(<span class="string">"autoplay"</span>,<span class="string">"autoplay"</span>);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#player_player"</span>).attr(<span class="string">"src"</span>,music[<span class="string">'url'</span>]);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (music[<span class="string">'lrc'</span>]==<span class="string">"0"</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"#kk_lrc_box"</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"#kk_lrc_box"</span>).css(<span class="string">"display"</span>,<span class="string">"block"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (music[<span class="string">'lrc_data'</span>]!==<span class="string">""</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        add_lrc(music[<span class="string">'lrc_data'</span>]);</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        get_lrc(music[<span class="string">'name'</span>],music[<span class="string">'singer'</span>]);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#audio_player2"</span>).html(<span class="string">'&lt;!-- id='</span> + music_id + <span class="string">' mysql_id='</span> + music[<span class="string">'id'</span>] + <span class="string">' --&gt;'</span> + (($(<span class="built_in">document</span>).width()&lt;<span class="number">768</span> || <span class="keyword">new</span> <span class="built_in">Date</span>().getHours()&lt;<span class="number">8</span> || <span class="keyword">new</span> <span class="built_in">Date</span>().getHours()&gt;=<span class="number">23</span>)?<span class="string">"&lt;p&gt;&lt;small&gt;已为您关闭了自动播放&lt;/small&gt;&lt;/p&gt;"</span>:<span class="string">""</span>));</span></span><br><span class="line"><span class="javascript">                $.cookie(<span class="string">"music_list"</span>,<span class="string">'&#123;"id":'</span>+ music_id + <span class="string">',"length":'</span> + music[<span class="string">'length'</span>] + <span class="string">'&#125;'</span>,&#123;<span class="attr">expires</span>: <span class="number">7</span>, <span class="attr">path</span>: <span class="string">'/'</span>&#125;);</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="javascript">            error: <span class="function"><span class="keyword">function</span>(<span class="params">XMLHttpRequest,status</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (status == <span class="string">'timeout'</span>) &#123;</span></span><br><span class="line"><span class="xml">                    $("#audio_player").html('<span class="tag">&lt;<span class="name">p</span>&gt;</span>请求超时，<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"####"</span> <span class="attr">id</span>=<span class="string">"reload_audio_player"</span>&gt;</span>重新加载<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>');</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"#audio_player"</span>).html(<span class="string">'&lt;p&gt;无法请求播放数据&lt;/p&gt;'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">change_audio_player_status</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#audio_player_status"</span>).html(<span class="string">"正在播放"</span>)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">        get_music();</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#audio_player"</span>).on(<span class="string">'click'</span>, <span class="string">"#reload_audio_player"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            get_music();</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"audio_player"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">onended</span>=<span class="string">"get_music()"</span> <span class="attr">onplaying</span>=<span class="string">"change_audio_player_status()"</span> <span class="attr">style</span>=<span class="string">"width: 100%"</span> <span class="attr">id</span>=<span class="string">"player_player"</span>&gt;</span>您的浏览器不支持 HTML5<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"audio_player2"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"kk_lrc_box"</span> <span class="attr">id</span>=<span class="string">"kk_lrc_box"</span>&gt;</span><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"player_lrc"</span> <span class="attr">class</span>=<span class="string">"kk_lrc"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>四、将下面这个文件解压上传至根目录，里面分别是 jQuery 的 JSON 插件和 Cookies 插件<br><a href="/uploads/2014/01/jq.zip">jq.zip</a></p>
<p>效果如本页所示。有段时间没写 php 了，如果有什么 bug 或者建议请评论，谢谢</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/程序发布/">程序发布</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/29/无聊给博客加了个背景音乐/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/24/生活就像心电图，一帆风顺除非你死了/"><span>生活就像心电图，一帆风顺除非你死了</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/24/生活就像心电图，一帆风顺除非你死了/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-24T10:47:59.000Z">
          2014-01-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>突然发现我有篇文章被很多地方转载，没有署名，没有通知过我，还有的人说是自己写的，或者被断章取义的误会。想了一会儿以后，决定玩会儿睡觉了。<br>好友邻们提醒我解释一下，要不老掉粉。其实说不生气，不委屈，是假的。但是怎么说呢！生活总有意外，当你不能掌握的时候，只能随遇而安。我爱人常说“生活就像心电图，一帆风顺除非你死了。”我妈常说“真能万事如意，基本离死不远了。”我的自我介绍里有句话：解释和争论，只在两种情况下有意义，一种是这个人很重要，一种是这件事很重要。丹妮尔•拉波特说“优秀的人都精神强大，是因为他们都将精力集中于自己清晰的目标上，这使他们能够掌控自己的生活，而不是被生活推着走，被生活所累。”<br>我现在大着肚子，在怀孕最重要的时期。我为这事解释一顿，挨个找这些人给我稿费，删除，道歉，解释，然后呢？我惹一肚子气，影响胎教，影响身体。虽然每天都掉粉，但是真的理解我，认可我的友邻，还是会关注我，对于他们来说，这就是件小事。而对于现在的我来说，没有人比我肚子里的这个更重要。有一次看失恋的文章，有过这么一个小故事，我觉得也适合这件事。<br>小猴从树枝上掉下来，肚皮划破了一道小口子。它指着伤口让同伴们看，大家轮流察看伤口，对小猴子的不幸给予了极大的同情。而伤口每经过一次察看，便被撕开一点，最后小猴子因伤口太大、流血过多而死去了。原本无关紧要的小伤小痛，却因为自己和他人的过分惦记和关注，最终导致小痛变剧痛，小伤成大伤。<br>露易丝·海的《生命的重建》有这样一段话：“我们必须选择释怀过去，并原谅每一个人，包括我们自己。我们可能不知道该怎样原谅，也可能不想原谅，但我们说出心甘情愿地原谅这句话时，就开始了疗伤过程。如果要自我疗伤，释怀过去并原谅每一个人就成了必须遵守的诫命。”人们总说时间会改变一切，但是实际上你需要自己去改变。在这个世界上什么都可能不是你的，所以千万别多想。</p>
<p>博主来扯个淡：<br>　　话说我也是转了不少的”鼹鼠的土豆”所写的文章了，但也只是因为觉得内容不错，拿来分享分享。记得以前第一次听说”鼹鼠的土豆”的时候还是在好几年前的一档广播节目里，是中央台经济之声的，经常会读点好文章、好故事，以前夜里无聊时也经常听。当时讲的主要的内容也不怎么记得了，不过自此以后我上网搜了下，发现作者写的文章。。。嗯，更确切的说是日记吧，挺符合我的口味的，同时也是让我受益匪浅啊。而在开了这个博客以后，我就经常转些她写的文章，就像前文所说的，”分享分享”，并且，把这些文章都放在了同一个分类里，以便日后翻看。不过也有部分朋友误以为这些文章是我写的，这个。。见笑了，我的文笔还没那么好，况且，我的生活经验也没那么丰富，又怎能理解这么多道理 = = 倒是记得以前建这个分类时发过一篇声明，不过倒也是挺久远的事情了。。。<a href="http://futa.ooo/174.html">关于本分类</a><br>　　聊聊本文内容，作为标题的这句话，想必各位都听说过。是啊，要是什么事都一帆风顺，你又能从中吸取到什么呢？胜败乃兵家常事，为何要去为了一次失败而去气馁？甚至放弃？不过可怕的是失败仍不自知，相信各位也听说过一句话，”失败是成功之母”，有人只看出了字面是意思，认为不去努力，这次失败了，下次就自然而然的会成功。可不是这样的啊，但是，还有更可怕的事，有些人失败后不去努力也就罢了，不去从自己身上找问题，反而去 YY 成功者怎么样怎么样。我为什么会突然想到这些呢？记得前几天的《爱情公寓》里有说到一个”富二代”只会打高尔夫，原因是其父亲担心其进行其他运动时受到伤害，而不让他参加其他的运动项目。相信看过的各位应该对其中的集体用高尔夫球杆站在桌球台上打母球的事很有印象吧？当然这是恶搞 = = 但我却因此想到有人可能会嘲笑这位”富二代”只会打高尔夫，嗯。。在这之前你有没有想过，你并不会打高尔夫，甚至，其他的运动也不去怎么参加？(好吧，这似乎有点夸大了，但这只是举个例子。)你有什么资格去评论别人？当然，如果你说言论自由，OK。更有甚者，认为这位”富二代”自己过得并不开心。我倒是又想说说，人家过得开心不开心关你什么事，反正过得比你开心就是了。引申出来，说个比较常见的事儿，也是各位”学渣”公认的事儿。相信各位”学渣”一定知道大部分的”学霸”会在各种各样的假期去参加各种各样的兴趣班、补习班、提高班，然后就会觉得人家过得并不开心。是，就算不开心，人家好歹还是可以拿自己的成绩和自己的”兴趣”证书来炫耀的，你呢？比如这位”学霸”，<a href="http://futa.ooo/1175.html">初三女儿爱学习不让补课就绝食</a>，例子可能有些极端，但人家可以拿得出成绩。你呢？又有什么？其实，即使是”学渣”，即使对学习没有兴趣，即使无论如何在学习上都拼不过别人，那还是可以发展一下其他的特长的嘛，毕竟，你要是没有被利用的价值，早晚会被淘汰，无论是被朋友，被学校，被社会。<br>　　咳咳，扯远了，只是想到了一些以前的事情，希望能在这里吐个槽，如果可能的话，也能和各位交流交流。最后提一点，这位”鼹鼠的土豆”是豆瓣上的，写的东西相当值得推荐，为了提高自身的”正能量”去看看也是不错的。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/鼹鼠的土豆/">鼹鼠的土豆</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/24/生活就像心电图，一帆风顺除非你死了/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/20/php计算24点游戏/"><span>php计算24点游戏</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/20/php计算24点游戏/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-19T19:42:43.000Z">
          2014-01-20
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>修改了下，加了个表单。原文转载自 <a href="http://www.alixixi.com/program/a/2008050731708.shtml" target="_blank" rel="noopener">http://www.alixixi.com/program/a/2008050731708.shtml</a><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">set_time_limit(<span class="number">0</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">		&lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1, maximum-scale=1"</span> /&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">"pragram"</span> content=<span class="string">"no-cache"</span>&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">"cache-control"</span> content=<span class="string">"no-cache, must-revalidate"</span>&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">"expires"</span> content=<span class="string">"0"</span>&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/HTML; charset=utf-8"</span>&gt;</span><br><span class="line">		&lt;title&gt;<span class="number">24</span> 点计算器&lt;/title&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$values = explode(<span class="string">' '</span>,$_POST[<span class="string">'num'</span>]);</span><br><span class="line">$result = <span class="number">24</span>;</span><br><span class="line"></span><br><span class="line">$list = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($_POST) &#123;</span><br><span class="line">makeValue($values); </span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;pre&gt;'</span>;</span><br><span class="line">print_r($list);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/pre&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeValue</span><span class="params">($values, $set=array<span class="params">()</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	$words = <span class="keyword">array</span>(<span class="string">"+"</span>, <span class="string">"-"</span>, <span class="string">"*"</span>, <span class="string">"/"</span>); </span><br><span class="line">	<span class="keyword">if</span>(sizeof($values)==<span class="number">1</span>) </span><br><span class="line">	&#123; </span><br><span class="line">		$set[] = array_shift($values); </span><br><span class="line">		<span class="keyword">return</span> makeSpecial($set); </span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">foreach</span>($values <span class="keyword">as</span> $key=&gt;$value) </span><br><span class="line">	&#123; </span><br><span class="line">		$tmpValues = $values; </span><br><span class="line">		<span class="keyword">unset</span>($tmpValues[$key]); </span><br><span class="line">		<span class="keyword">foreach</span>($words <span class="keyword">as</span> $word) </span><br><span class="line">		&#123; </span><br><span class="line">			makeValue($tmpValues, array_merge($set, <span class="keyword">array</span>($value, $word))); </span><br><span class="line">		&#125; </span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeSpecial</span><span class="params">($set)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	$size = sizeof($set);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>($size&lt;=<span class="number">3</span> || !in_array(<span class="string">"/"</span>, $set) &amp;&amp; !in_array(<span class="string">"*"</span>, $set)) </span><br><span class="line">	&#123; </span><br><span class="line">		<span class="keyword">return</span> makeResult($set); </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>($len=<span class="number">3</span>; $len&lt;$size<span class="number">-1</span>; $len+=<span class="number">2</span>) </span><br><span class="line">	&#123; </span><br><span class="line">		<span class="keyword">for</span>($start=<span class="number">0</span>; $start&lt;$size<span class="number">-1</span>; $start+=<span class="number">2</span>) </span><br><span class="line">		&#123; </span><br><span class="line">			<span class="keyword">if</span>(!($set[$start<span class="number">-1</span>]==<span class="string">"*"</span> || $set[$start<span class="number">-1</span>]==<span class="string">"/"</span> || $set[$start+$len]==<span class="string">"*"</span> || $set[$start+$len]==<span class="string">"/"</span>)) </span><br><span class="line">				<span class="keyword">continue</span>; </span><br><span class="line">			$subSet = array_slice($set, $start, $len); </span><br><span class="line">			<span class="keyword">if</span>(!in_array(<span class="string">"+"</span>, $subSet) &amp;&amp; !in_array(<span class="string">"-"</span>, $subSet)) </span><br><span class="line">				<span class="keyword">continue</span>; </span><br><span class="line">			$tmpSet = $set; </span><br><span class="line">			array_splice($tmpSet, $start, $len<span class="number">-1</span>); </span><br><span class="line">			$tmpSet[$start] = <span class="string">"("</span>.implode(<span class="string">""</span>, $subSet).<span class="string">")"</span>; </span><br><span class="line">			makeSpecial($tmpSet); </span><br><span class="line">		&#125; </span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeResult</span><span class="params">($set)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="keyword">global</span> $result, $list; </span><br><span class="line">	$str = implode(<span class="string">""</span>, $set); </span><br><span class="line">	@<span class="keyword">eval</span>(<span class="string">"\$num=$str;"</span>); </span><br><span class="line">	<span class="keyword">if</span>($num==$result &amp;&amp; !in_array($str, $list)) </span><br><span class="line">	$list[] = $str; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">	&lt;center&gt;</span><br><span class="line">			&lt;form action=<span class="string">""</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">				&lt;p&gt;&lt;label&gt;请输入四个数字，空格分割：&lt;br /&gt;&lt;input type=<span class="string">"text"</span> name=<span class="string">"num"</span> /&gt;&lt;/label&gt;&lt;/p&gt;</span><br><span class="line">				&lt;p&gt;&lt;input type=<span class="string">"submit"</span> name=<span class="string">"submit"</span> value=<span class="string">"提交"</span> /&gt;&lt;/p&gt;</span><br><span class="line">			&lt;/form&gt;</span><br><span class="line">		&lt;/center&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/20/php计算24点游戏/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/16/作死的长城宽带/"><span>作死的长城宽带</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/16/作死的长城宽带/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-16T09:43:09.000Z">
          2014-01-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>具体看图，顺便奉劝一下各位最好不要用长宽了<br><a href="/uploads/2014/01/Screenshot_2014-01-17-00-05-20.png"><img src="/uploads/2014/01/Screenshot_2014-01-17-00-05-20.png" alt="Screenshot_2014-01-17-00-05-20"></a><br><a href="/uploads/2014/01/Screenshot_2014-01-17-01-36-45.png"><img src="/uploads/2014/01/Screenshot_2014-01-17-01-36-45.png" alt="Screenshot_2014-01-17-01-36-45"></a><br><a href="/uploads/2014/01/Screenshot_2014-01-16-23-57-59.png"><img src="/uploads/2014/01/Screenshot_2014-01-16-23-57-59.png" alt="Screenshot_2014-01-16-23-57-59"></a><br><a href="/uploads/2014/01/Screenshot_2014-01-17-01-41-15.png"><img src="/uploads/2014/01/Screenshot_2014-01-17-01-41-15.png" alt="Screenshot_2014-01-17-01-41-15"></a><br><a href="/uploads/2014/01/Screenshot_2014-01-16-23-59-45.png"><img src="/uploads/2014/01/Screenshot_2014-01-16-23-59-45.png" alt="Screenshot_2014-01-16-23-59-45"></a><br>终于等到回复了，结果居然叫我改 DNS，问他们自动获取到的是不是有问题，却避而不谈。难道改个 DNS 就能解决问题？难道自动获取到的不是长宽自己的 DNS？<br><a href="/uploads/2014/01/Screenshot_2014-01-17-10-53-31.png"><img src="/uploads/2014/01/Screenshot_2014-01-17-10-53-31.png" alt="Screenshot_2014-01-17-10-53-31"></a></p>
<p>附百度到的几个同样投诉长城宽带劫持网页的证据(如果现在不存在这些问题了，那就证明长城宽带取消了对这些网站的劫持，但是证据依旧存在)：<br><a href="http://bbs.360safe.com/forum.php?mod=viewthread&amp;tid=326799&amp;extra=page%3D1&amp;page=1&amp;mobile=no" target="_blank" rel="noopener">360导航被hao123劫持！锁定主页与组策略禁改主页也不管用！</a><br><a href="http://www.zhihu.com/question/21986399" target="_blank" rel="noopener">如何彻底屏蔽长城宽带HTTP劫持？</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/杂七杂八/">杂七杂八</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/16/作死的长城宽带/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/16/Linux VPS上使用kingate搭建socks代理服务器/"><span>Linux VPS上使用kingate搭建socks代理服务器</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/16/Linux VPS上使用kingate搭建socks代理服务器/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-16T05:24:50.000Z">
          2014-01-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>kingate是一位国人开发的代理服务器，支持http,socks,ftp等多种协议。支持多线程、tcp端口映射、规则控制、时间控制、用户认证、http管理等功能。</p>
<p>kingate官网：<a href="http://sourceforge.net/projects/kingate/" target="_blank" rel="noopener">http://sourceforge.net/projects/kingate/</a></p>
<p>安装所需的依赖包<br>Debian：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install build-essential automake make gcc g++</span><br></pre></td></tr></table></figure></p>
<p>CentOS：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install make automake gcc gcc-c++ gcc-g77</span><br></pre></td></tr></table></figure></p>
<p>安装kingate<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget http://softlayer.dl.sourceforge.net/project/kingate/kingate/2.0/kingate-2.0.tar.gz</span><br><span class="line">tar xzf kingate-2.0.tar.gz</span><br><span class="line">cd kingate-2.0/</span><br><span class="line">./configure --prefix=/usr/local/kingate</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<p>配置kingate<br>修改/usr/local/kingate/etc/kingate.conf 为以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">http off</span><br><span class="line">ftp off</span><br><span class="line">pop3 off</span><br><span class="line">smtp off</span><br><span class="line">telnet off</span><br><span class="line">socks on</span><br><span class="line">mms off</span><br><span class="line">rtsp off</span><br><span class="line">manage on</span><br><span class="line">max 2000</span><br><span class="line">max_per_ip 0</span><br><span class="line">min_free_thread 3</span><br><span class="line">http_port 8082</span><br><span class="line">http_accelerate off</span><br><span class="line">x_forwarded_for on</span><br><span class="line">http_time_out 30</span><br><span class="line">ftp_port 2121</span><br><span class="line">ftp_time_out 300</span><br><span class="line">pop3_port 1100</span><br><span class="line">pop3_time_out 300</span><br><span class="line">smtp_port 2525</span><br><span class="line">smtp_time_out 300</span><br><span class="line">telnet_port 2323</span><br><span class="line">telnet_time_out 300</span><br><span class="line">socks_port 20120</span><br><span class="line">socks_time_out 300</span><br><span class="line">socks5_user off</span><br><span class="line">mms_port 1755</span><br><span class="line">mms_time_out 300</span><br><span class="line">rtsp_port 5540</span><br><span class="line">rtsp_time_out 300</span><br><span class="line">manage_port 8822</span><br><span class="line">manage_time_out 300</span><br><span class="line">log_model user</span><br><span class="line">log_level 0</span><br><span class="line">log_rotate &#123;0 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23 * * * &#125;</span><br><span class="line">log_close_msg on</span><br><span class="line">mem_min_cache 50m</span><br><span class="line">mem_max_cache 12m</span><br><span class="line">disk_min_cache 20m</span><br><span class="line">disk_max_cache 30m</span><br><span class="line">use_disk_cache off</span><br><span class="line">refresh never</span><br><span class="line">refresh_time 300</span><br><span class="line">user_time_out 0</span><br><span class="line">mem_cache 50m</span><br><span class="line">disk_cache 100m</span><br><span class="line">max_deny_per_ip 0</span><br><span class="line">max_queue_thread 15</span><br><span class="line">min_limit_speed_size 1m</span><br><span class="line">limit_speed 20k</span><br><span class="line">max_request 50</span><br><span class="line">total_seconds 10</span><br><span class="line">bind_addr</span><br><span class="line">run_user</span><br><span class="line">insert_via off</span><br></pre></td></tr></table></figure></p>
<p>以上配置中，socks on 表示启用socks代理(也可以根据你自己的需求开启其他类型的代理)，socks_port 20120 表示socks代理的端口。manage on 为启用http管理，manage_port 8822 为http管理的端口。强烈建议修改端口号！</p>
<p>kingate启动及管理<br>下载启动脚本及添加权限<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http://soft.vpser.net/proxy/kingate/kingate.init.d</span><br><span class="line">mv kingate.init.d /etc/init.d/kingate</span><br><span class="line">chmod +x /etc/init.d/kingate</span><br></pre></td></tr></table></figure></p>
<p>kingate管理<br>启动kingate：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/kingate start</span><br></pre></td></tr></table></figure></p>
<p>关闭kingate：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/kingate stop</span><br></pre></td></tr></table></figure></p>
<p>重启kingate：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/kingate restart</span><br></pre></td></tr></table></figure></p>
<p>http管理<br>管理地址：<a href="http://ip:8822" target="_blank" rel="noopener">http://ip:8822</a> ，如果修改过配置，8822端口修改为你设置的端口号，默认用户名为root，密码为kingate。</p>
<p>加入开机启动<br>Debian执行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d -f kingate defaults</span><br></pre></td></tr></table></figure></p>
<p>CentOS执行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --level 345 kingate on</span><br></pre></td></tr></table></figure></p>
<p>客户端设置<br>这里以dropbox为例：<br><a href="/uploads/2014/01/dropbox-poxies.jpg"><img src="/uploads/2014/01/dropbox-poxies.jpg" alt="dropbox-poxies"></a></p>
<p>转载自：<a href="http://www.vpser.net/build/linux-vps-use-kingate-install-proxy-server.html" target="_blank" rel="noopener">http://www.vpser.net/build/linux-vps-use-kingate-install-proxy-server.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/VPS-技术/">VPS 技术</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/16/Linux VPS上使用kingate搭建socks代理服务器/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/14/别让别人给你贴的标签，遮盖你的光芒/"><span>别让别人给你贴的标签，遮盖你的光芒</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/14/别让别人给你贴的标签，遮盖你的光芒/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-14T09:39:45.000Z">
          2014-01-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>在这个大家都很忙，什么都讲究速度的时代，甚至判断别人，给别人下定义的时间都很短。前几天写了债券的科普贴，刚发出来了没2分钟，就有人蹦出来时候“这是陷阱。”咱们先不说一发行了这么多年，年交易几百亿，在协议上明确些着保本的债券，被众多机构参与的债券到底是不是陷阱。就说你花2分钟就能分析出这是一陷阱也说明你是挺天才的人。这让我想起了元悟空说的“不懂就算了，装懂；装懂就算了，还引申；引申就算了，还分析；分析就算了，还判断；判断就算了，还结论。”<br>我就特纳闷，这世界怎么了，你知道的你说，你不知道你瞎定义什么呀？！现实中，我们常犯这样的错误，断章取义的看一段话，完全不在意他的语境、背景，只要是看了就引以为准则，按照自己的想法揣测。之前有个大哥开了租车公司，有33辆车。马上就有人提出疑问“他也会开车，也会修车，比大哥还大两岁，他都没有30多辆车，大哥也不可能有！”可能这就是人，随便找个什么事，就觉得自己得出的结论至高无上，肯定是对的。今天看潘婷的菲律宾版广告：“别让别人对你的看法，遮挡你的光芒。”当那个穿雪纺裙的美女自信的迎着阳光离去，后面的看着那句“坚定让你更闪耀。”我愣了半天，英国哲学家亚伦•瓦兹（Alan Watts）说：快乐的秘密在于一句古语：“成为你自己。” 其实很多时候，我们只要坚持成为自己，就没什么能难倒我们。每次遇到选择，我都会想到这句话，然后毅然做出选择。<br>我们从出生开始就被别人误解，被别人帖标签，各种各样，或者好，或者坏的标签。这些别人给的标签会影响我们的生活，会干扰我们的思考，影响我们的决定。千万不要在意这些标签，如果真的相信这些标签是非常的可怕的事，当我们背负这些标签生活，会非常的辛苦。一定要顺应心意，看清自己，找到自己想要的生活。每个人与生俱来都有自己独特的才能，这是我们在这个世界的立足之本，我们需要做的就是发现自己的才能。大多数时候，我们的选择比努力更重要，我们在选择的时候，不必想着走那条路更需要智慧，不必想那条路能够让我们出人头地，只要想着，那条路能让我们快乐，让我们热血沸腾就好，只有在努力的过程中有快乐，我们才能不知疲倦的实现目标。做你自己渴望的事，你才会有激情。<br>之前看一段广告文案：“如果你渴望前行，就不会停下脚步。如果你拥有梦想，就会坚持到底。如果你感受到它，就会无所畏惧。不管在哪里，不管做什么，激情驱动你的力量，创造真的奇迹。”优秀的人都精神强大，是因为他们都将精力集中于自己清晰的目标上，这使他们能够掌控自己的生活，而不是被生活推着走，被生活所累。 面对自己时诚实点儿，面对世界时客观些。很多时候，“别人给你贴的标签”，遮盖住了我们的光芒，而我们总是纠结于过去，不停的找各种理由，给自己很多借口，证明自己的糟糕状态不是自己的问题，而不愿意鼓起勇气改变自己。其实只要我们坚定的选择自己的路，我们都会活得充实而快乐。</p>
<p>视频链接：<a href="http://v.youku.com/v_show/id_XNjUwODI0ODk2.html" target="_blank" rel="noopener">http://v.youku.com/v_show/id_XNjUwODI0ODk2.html</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/鼹鼠的土豆/">鼹鼠的土豆</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/14/别让别人给你贴的标签，遮盖你的光芒/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/14/揭示人类无法抗拒的十种心理效应（转自：家庭医生在线）/"><span>揭示人类无法抗拒的十种心理效应（转自：家庭医生在线）</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/14/揭示人类无法抗拒的十种心理效应（转自：家庭医生在线）/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-13T20:07:48.000Z">
          2014-01-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>1、鸟笼逻辑<br>挂一个漂亮的鸟笼在房间里最显眼的地方，过不了几天，主人一定会做出下面两个选择之一：把鸟笼扔掉，或者买一只鸟回来放在鸟笼里。这就是鸟笼逻辑。过程很简单，设想你是这房间的主人，只要有人走进房间，看到鸟笼，就会忍不住问你：“鸟呢？是不是死了？”当你回答：“我从来都没有养过鸟。”人们会问：“那么，你要一个鸟笼干什么？”最后你不得不在两个选择中二选一，因为这比无休止的解释要容易得多。鸟笼逻辑的原因很简单：人们绝大部分的时候是采取惯性思维。所以可见在生活和工作中培养逻辑思维是多么重要。<br>鸟笼逻辑告诉我们，大多数时候人们都受制于强大的惯性思维：鸟笼必定用于养鸟，结婚必先置办新房，社会必然分三六九等。这种惯性思维的益处是，能够帮助我们迅速快捷地认知和适应周围世界。然而，过犹不及，如果把惯性思维扩展到生活的每一个角落，就会成为一种刻板思维。鸟笼如果设计精巧，其实可以作为观赏品；号称“裸婚”的先结婚后置房，已逐渐为80后所接受；在北欧诸国，由于贫富差距较小，社会公平观念深入人心。所以，不妨偶尔尝试突破鸟笼逻辑，进行发散思维，也许鸟笼之外还有另外一片新天地。</p>
<p>2、破窗效应（Broken windows theory）<br>心理学的研究上有个现象叫做“破窗效应”，就是说，一个房子如果窗户破了，没有人去修补，隔不久，其它的窗户也会莫名其妙的被人打破；一面墙，如果出现一些涂鸦没有清洗掉，很快的，墙上就布满了乱七八糟，不堪入目的东西。一个很干净的地方，人会不好意思丢垃圾，但是一旦地上有垃圾出现之后，人就会毫不犹疑的拋，丝毫不觉羞愧。这真是很奇怪的现象。<br>心理学家研究的就是这个“引爆点”，地上究竟要有多脏，人们才会觉得反正这么脏，再脏一点无所谓，情况究竟要坏到什么程度，人们才会自暴自弃，让它烂到底。任何坏事，如果在开始时没有阻拦掉，形成风气，改也改不掉，就好象河堤，一个小缺口没有及时修补，可以崩坝，造成千百万倍的损失。下面举一个真实的事例。<br>犯罪其实就是失序的结果，纽约市在80年代的时候，真是无处不抢，无日不杀，大白天走在马路上也会害怕。地铁更不用说了，车厢脏乱，到处涂满了秽句，坐在地铁里，人人自危。我虽然没有被抢过，但是有位教授被人在光天化日之下，敲了一记闷棍，眼睛失明，从此结束他的研究生涯，使我多少年来谈虎变色，不敢只身去纽约开会。最近纽约的市容和市誉提升了不少，令我颇为吃惊，一个已经向下沉沦的城市，竟能死而复生，向上提升。<br>因此，当我出去开会，碰到一位犯罪学家时，立刻向他讨教，原来纽约市用的就是过去书本上讲的破窗效应的理论，先改善犯罪的环境，使人们不易犯罪，再慢慢缉凶捕盗，回归秩序。<br>当时这个做法虽然被人骂为缓不济急，“船都要沉了还在洗甲板”，但是纽约市还是从维护地铁车厢干净着手，并将不买车票白搭车的人用手铐铐住排成一列站在月台上，公开向民众宣示政府整顿的决心，结果发现非常有效。<br>警察发现人们果然比较不会在干净的场合犯罪，又发现抓逃票很有收获，因为每七名逃票的人中就有一名是通缉犯，二十名中就有一名携带武器，因此警察愿意很认真地去抓逃票，这使得歹徒不敢逃票，出门不敢带武器，以免得不偿失、因小失大。这样纽约市就从最小、最容易的地方着手，打破了犯罪环结，使这个恶性循环无法继续下去。</p>
<p>3、责任分散效应（Diffusion of responsibility）<br>1964年3月13日夜3时20分，在美国纽约郊外某公寓前，一位叫朱诺比白的年轻女子在结束酒巴间工作回家的路上遇刺。当她绝望地喊叫：“有人要杀人啦!救命!救命!”听到喊叫声，附近住户亮起了灯，打开了窗户，凶手吓跑了。当一切恢复平静后，凶手又返回作案。当她又叫喊时，附近的住户又打开了电灯，凶手又逃跑了。当她认为已经无事，回到自己家上楼时，凶手又一次出现在她面前，将她杀死在楼梯上。在这个过程中，尽管她大声呼救，她的邻居中至少有38位到窗前观看，但无一人来救她，甚至无一人打电话报警。这件事引起纽约社会的轰动，也引起了社会心理学工作者的重视和思考。人们把这种众多的旁观者见死不救的现象称为责任分散效应（旁观者效应）。<br>对于责任分散效应形成的原因，心理学家进行了大量的实验和调查，结果发现：这种现象不能仅仅说是众人的冷酷无情，或道德日益沦丧的表现。因为在不同的场合，人们的援助行为确实是不同的。当一个人遇到紧急情境时，如果只有他一个人能提供帮助，他会清醒地意识到自己的责任，对受难者给予帮助。如果他见死不救会产生罪恶感、内疚感，这需要付出很高的心理代价。而如果有许多人在场的话，帮助求助者的责任就由大家来分担，造成责任分散，每个人分担的责任很少，旁观者甚至可能连他自己的那一份责任也意识不到，从而产生一种“我不去救，由别人去救”的心理，造成“集体冷漠”的局面。如何打破这种局面，这是心理学家正在研究的一个重要课题。</p>
<p>4、帕金森定律（Parkinson’s Law）<br>英国著名历史学家诺斯古德·帕金森通过长期调查研究，写出一本名叫《帕金森定律》的书。他在书中阐述了机构人员膨胀的原因及后果：一个不称职的官员，可能有三条出路，第一是申请退职，把位子让给能干的人；第二是让一位能干的人来协助自己工作；第三是任用两个水平比自己更低的人当助手。这第一条路是万万走不得的，因为那样会丧失许多权利；第二条路也不能走，因为那个能干的人会成为自己的对手；看来只有第三条路最适宜。于是，两个平庸的助手分担了他的工作，他自己则高高在上发号施令，他们不会对自己的权利构成威胁。两个助手既然无能，他们就上行下效，再为自己找两个更加无能的助手。如此类推，就形成了一个机构臃肿，人浮于事，相互扯皮，效率低下的领导体系。</p>
<p>5、晕轮效应（The Halo Effect）<br>俄国著名的大文豪普希金曾因晕轮效应的作用吃了大苦头。他狂热地爱上了被称为“莫斯科第一美人”的娜坦丽，并且和她结了婚。娜坦丽容貌惊人，但与普希金志不同道不合。当普希金每次把写好的诗读给她听时。她总是捂着耳朵说：“不要听！不要听！”相反，她总是要普希金陪她游乐，出席一些豪华的晚会、舞会，普希金为此丢下创作，弄得债台高筑，最后还为她决斗而死，使一颗文学巨星过早地陨落。在普希金看来，一个漂亮的女人也必然有非凡的智慧和高贵的品格，然而事实并非如此，这种现象被称为晕轮效应。<br>所谓晕轮效应，就是在人际交往中，人身上表现出的某一方面的特征，掩盖了其他特征，从而造成人际认知的障碍。在日常生活中，“晕轮效应”往往在悄悄地影响着我们对别人的认知和评价。比如有的老年人对青年人的个别缺点，或衣着打扮、生活习惯看不顺眼，就认为他们一定没出息；有的青年人由于倾慕朋友的某一可爱之处，就会把他看得处处可爱，真所谓“一俊遮百丑”。晕轮效应是一种以偏概全的主观心理臆测，其错误在于：第一，它容易抓住事物的个别特征，习惯以个别推及一般，就像盲人摸象一样，以点代面；第二，它把并无内在联系的一些个性或外貌特征联系在一起，断言有这种特征必然会有另一种特征；第三，它说好就全都肯定，说坏就全部否定，这是一种受主观偏见支配的绝对化倾向。总之，晕轮效应是人际交往中对人的心理影响很大的认知障碍，我们在交往中要尽量地避免和克服晕轮效应的副作用。</p>
<p>6、霍桑效应（Hawthorne effect）<br>心理学上的一种实验者效应。20世纪20-30年代，美国研究人员在芝加哥西方电力公司霍桑工厂进行的工作条件、社会因素和生产效益关系实验中发现了实验者效应，称霍桑效应。<br>实验的第一阶段是从1924年11月开始的工作条件和生产效益的关系，设为实验组和控制组。结果不管增加或控制照明度，实验组产量都上升，而且照明度不变的控制组产量也增加。另外，有试验了工资报酬、工间休息时间、每日工作长度和每周工作天数等因素，也看不出这些工作条件对生产效益有何直接影响。第二阶段的试验是由美国哈佛大学教授梅奥领导的，着重研究社会因素与生产效率的关系，结果发现生产效率的提高主要是由于被实验者在精神方面发生了巨大的变化。参加试验的工人被置于专门的实验室并由研究人员领导，其社会状况发生了变化，受到各方面的关注，从而形成了参与试验的感觉，觉得自己是公司中重要的一部分，从而使工人从社会角度方面被激励，促进产量上升。<br>这个效应告诉我们，当同学或自己受到公众的关注或注视时，学习和交往的效率就会大大增加。因此，我们在日常生活中要学会与他人友好相处，明白什么样的行为才是同学和老师所接受和赞赏的，我们只有在生活和学习中不断地增加自己的良好行为，才可能受到更多人的关注和赞赏，也才可能让我们的学习不断进步，充满自信！</p>
<p>7、习得性无助实验（Learned helplessness Experiment）<br>习得性无助效应最早有奥弗米尔和西里格曼发现，后来在动物和人类研究中被广泛探讨。简单地说，很多实验表明，经过训练，狗可以越过屏障或从事其他的行为来逃避实验者加于它的电击。但是，如果狗以前受到不可预期（不知道什么时候到来）且不可控制的电击（如电击的中断与否不依赖于狗的行为），当狗后来有机会逃离电击时，他们也变得无力逃离。而且，狗还表现出其他方面的缺陷，如感到沮丧和压抑，主动性降低等等。<br>狗之所以表现出这种状况，是由于在实验的早期学到了一种无助感。也就是说，它们认识到自己无论做什么都不能控制电击的终止。在每次实验中，电击终止都是在实验者掌控之下的，而狗会认识到自己没有能力改变这种外界的控制，从而学到了一种无助感。<br>人如果产生了习得性无助，就成为了一种深深的绝望和悲哀。因此，我们在学习和生活中应把自己的眼光在开阔一点，看到事件背后的真正的决定因素，不要使我们自己陷入绝望。</p>
<p>8、证人的记忆效应<br>证人，在我们的认识里，通常都是提供一些客观的证据的人，就是把自己亲眼看到、亲耳听到的东西如实地讲出来的人。然而，心理学研究证明，很多证人提供的证词都不太准确，或者说是具有个人倾向性，带着个人的观点和意识。<br>证人对他们的证词的信心并不能决定他们证词的准确性，这一研究结果令人感到惊讶。心理学家珀费可特和豪林斯决定对这一结论进行更深入的研究。为了考察证人的证词是否有特别的东西，他们将证人的记忆与对一般知识的记忆进行了比较。<br>他们让被试看一个简短的录象，是关于一个女孩被绑架的案件。第二天，让被试回答一些有关录象里内容的问题，并要求他们说出对自己回答的信心程度，然后做再认记忆测验。接下来，使用同样的方法，内容是从百科全书和通俗读物中选出的一般知识问题。<br>和以前发生的一样，珀费可特和豪林斯也发现，在证人回忆的精确性上，那些对自己的回答信心十足的人实际上并不比那些没信心的人更高明，但对于一般知识来说，情况就不是这样，信心高的人回忆成绩比信心不足的人好得多。<br>人们对于自己在一般知识上的优势与弱势有自知之明。因此，倾向于修改他们对于信心量表的测验结果。一般知识是一个数据库，在个体之间是共享的，它有公认的正确答案，被试可以自己去衡量。例如，人们会知道自己在体育问题上是否比别人更好或更差一点。但是，目击的事件不受这种自知之明的影响。例如，从总体上讲，他们不大可能知道自己比别人在记忆事件中的参与者头发颜色方面更好或更差。</p>
<p>9、皮格马利翁效应(Pygmalion Effect)<br>美国心理学家罗森塔尔等人于1968年做过一个著名实验。他们到一所小学，在一至六年级各选三个班的儿童进行煞有介事的“预测未来发展的测验”，然后实验者将认为有“优异发展可能”的学生名单通知教师。其实，这个名单并不是根据测验结果确定的，而是随机抽取的。它是以“权威性的谎言”暗示教师，从而调动了教师对名单上的学生的某种期待心理。8个月后，再次智能测验的结果发现，名单上的学生的成绩普遍提高，教师也给了他们良好的品行评语。这个实验取得了奇迹般的效果，人们把这种通过教师对学生心理的潜移默化的影响，从而使学生取得教师所期望的进步的现象，称为“罗森塔尔效应”，习惯上也称为皮格马利翁效应（皮格马利翁是古希腊神话中塞浦路斯国王，他对一尊少女塑像产生爱慕之情，他的热望最终使这尊雕像变为一个真人，两人相爱结合）。<br>教育实践也表明：如果教师喜爱某些学生，对他们会抱有较高期望，经过一段时间，学生感受到教师的关怀、爱护和鼓励；常常以积极态度对待老师、对待学习以及对待自己的行为，学生更加自尊、自信、自爱、自强，诱发出一种积极向上的激情，这些学生常常会取得老师所期望的进步。相反，那些受到老师忽视、歧视的学生，久而久之会从教师的言谈、举止、表情中感受到教师的“偏心”，也会以消极的态度对待老师、对待自己的学习，不理会或拒绝听从老师的要求；这些学生常常会一天天变坏，最后沦为社会的不良分子。尽管有些例外，但大趋势却是如此，同时这也给教师敲响了警钟。</p>
<p>10、虚假同感偏差（false consensus bias）<br>我们通常都会相信，我们的爱好与大多数人是一样的。如果你喜欢玩电脑游戏，那么就有可能高估喜欢电脑游戏的人数。你也通常会高估给自己喜欢的同学投票的人数，高估自己在群体中的威信与领导能力等等。你的这种高估与你的行为及态度有相同特点的人数的倾向性就叫做“虚假同感偏差”。有些因素会影响你的这种虚假同感偏差强度：<br>（1）当外部的归因强于内部归因时；<br>（2）当前的行为或事件对某人非常重要时；<br>（3）当你对自己的观点非常确定或坚信时；<br>（4）当你的地位或正常生活和学习受到某种威胁时；<br>（5）当涉及到某种积极的品质或个性时；<br>（6）当你将其他人看成与自己是相似时。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/鼹鼠的土豆/">鼹鼠的土豆</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/14/揭示人类无法抗拒的十种心理效应（转自：家庭医生在线）/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2014/01/13/修正 SyntaxHighlighter 的工具栏宽度高度值的 bug/"><span>修正 SyntaxHighlighter 的工具栏宽度高度值的 bug</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2014/01/13/修正 SyntaxHighlighter 的工具栏宽度高度值的 bug/" rel="bookmark">
        <time class="entry-date published" datetime="2014-01-12T19:14:57.000Z">
          2014-01-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>话不多说。。先上对比图</p>
<p>修改前<br><a href="/uploads/2014/01/toolbar0.jpg"><img src="/uploads/2014/01/toolbar0.jpg" alt="toolbar0"></a><br>修改后<br><a href="/uploads/2014/01/toolbar1.jpg"><img src="/uploads/2014/01/toolbar1.jpg" alt="toolbar1"></a></p>
<p>相信许多博客和本站一样，使用了 SyntaxHighlighter Evolved 这款代码高亮插件，但是，开了工具栏以后，会发现工具栏的下半部分有很多的留白，效果很不好。修改的方法很简单，相信看了上面两张图就能知道，给 div 一个固定的高度与宽度就行了。</p>
<p>打开 你的博客的根目录/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shCore.css ，定位到第 165 行，插入下面的两句代码<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">height</span>: 16<span class="selector-tag">px</span> !<span class="selector-tag">important</span>;</span><br><span class="line"><span class="selector-tag">width</span>: 96<span class="selector-tag">px</span> !<span class="selector-tag">important</span>;</span><br></pre></td></tr></table></figure></p>
<p>如图<br><a href="/uploads/2014/01/toolbar.jpg"><img src="/uploads/2014/01/toolbar.jpg" alt="toolbar"></a></p>
<p>保存以后上传覆盖源文件即可</p>
<p>表示我也是看到 <a href="http://www.oschina.net/code/snippet_59831_15056" target="_blank" rel="noopener">http://www.oschina.net/code/snippet_59831_15056</a> 的效果以后才想起来改这个的。。。不改的话太难看了。。。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/建站相关/">建站相关</a>
    </span>
    

    

    </div>

    
    <div class="article-meta pull-right">
      <span>
        <i class="icon-comments"></i>
        <span>
          <a href="/2014/01/13/修正 SyntaxHighlighter 的工具栏宽度高度值的 bug/#comment">评论</a>
        </span>
      </span>
    </div>
    
  </div>
</article>




<nav class="pagination">
  
  <a href="/page/15/" class="pagination-prev">上一页</a>
  
  
  <a href="/page/17/" class="pagination-next">下一页</a>
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2019 403 Forbidden
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>