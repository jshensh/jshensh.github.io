<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>可以直接拿来用的15个jQuery代码片段 | 博客</title>

  
  <meta name="author" content="403 Forbidden">
  

  
  <meta name="description" content="jQuery里提供了许多创建交互式网站的方法，在开发Web项目时，开发人员应该好好利用jQuery代码，它们不仅能给网站带来各种动画、特效，还会提高网站的用户体验。本文收集了15段非常实用的jQuery代码片段，你可以直接复制黏贴到代码里，但请开发者注意了，要理解代码再使用哦。下面就让我们一起来享受">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="可以直接拿来用的15个jQuery代码片段"/>

  <meta property="og:site_name" content="博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>可以直接拿来用的15个jQuery代码片段</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2013/07/18/可以直接拿来用的15个jQuery代码片段/" rel="bookmark">
        <time class="entry-date published" datetime="2013-07-17T20:31:25.000Z">
          2013-07-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>jQuery里提供了许多创建交互式网站的方法，在开发Web项目时，开发人员应该好好利用jQuery代码，它们不仅能给网站带来各种动画、特效，还会提高网站的用户体验。<br>本文收集了15段非常实用的jQuery代码片段，你可以直接复制黏贴到代码里，但请开发者注意了，要理解代码再使用哦。下面就让我们一起来享受jQuery代码的魅力之处吧。<br>1.预加载图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(function($) &#123;</span><br><span class="line">  var cache = [];</span><br><span class="line">  // Arguments are image paths relative to the current page.</span><br><span class="line">  $.preLoadImages = function() &#123;</span><br><span class="line">    var args_len = arguments.length;</span><br><span class="line">    for (var i = args_len; i--;) &#123;</span><br><span class="line">      var cacheImage = document.createElement(&apos;img&apos;);</span><br><span class="line">      cacheImage.src = arguments[i];</span><br><span class="line">      cache.push(cacheImage);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">jQuery.preLoadImages(&amp;quot;image1.gif&amp;quot;, &amp;quot;/path/to/image2.png&amp;quot;);</span><br></pre></td></tr></table></figure></p>
<ol start="2">
<li>让页面中的每个元素都适合在移动设备上展示<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var scr = document.createElement(&apos;script&apos;);</span><br><span class="line">scr.setAttribute(&apos;src&apos;, &apos;https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js&apos;);</span><br><span class="line">document.body.appendChild(scr);</span><br><span class="line">scr.onload = function()&#123;</span><br><span class="line">	$(&apos;div&apos;).attr(&apos;class&apos;, &apos;&apos;).attr(&apos;id&apos;, &apos;&apos;).css(&#123;</span><br><span class="line">		&apos;margin&apos; : 0,</span><br><span class="line">		&apos;padding&apos; : 0,</span><br><span class="line">		&apos;width&apos;: &apos;100%&apos;,</span><br><span class="line">		&apos;clear&apos;:&apos;both&apos;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>3.图像等比例缩放<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$(window).bind(&amp;quot;load&amp;quot;, function() &#123;</span><br><span class="line">	// IMAGE RESIZE</span><br><span class="line">	$(&apos;#product_cat_list img&apos;).each(function() &#123;</span><br><span class="line">		var maxWidth = 120;</span><br><span class="line">		var maxHeight = 120;</span><br><span class="line">		var ratio = 0;</span><br><span class="line">		var width = $(this).width();</span><br><span class="line">		var height = $(this).height();</span><br><span class="line">		if(width &amp;gt; maxWidth)&#123;</span><br><span class="line">			ratio = maxWidth / width;</span><br><span class="line">			$(this).css(&amp;quot;width&amp;quot;, maxWidth);</span><br><span class="line">			$(this).css(&amp;quot;height&amp;quot;, height * ratio);</span><br><span class="line">			height = height * ratio;</span><br><span class="line">		&#125;</span><br><span class="line">		var width = $(this).width();</span><br><span class="line">		var height = $(this).height();</span><br><span class="line">		if(height &amp;gt; maxHeight)&#123;</span><br><span class="line">			ratio = maxHeight / height;</span><br><span class="line">			$(this).css(&amp;quot;height&amp;quot;, maxHeight);</span><br><span class="line">			$(this).css(&amp;quot;width&amp;quot;, width * ratio);</span><br><span class="line">			width = width * ratio;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	//$(&amp;quot;#contentpage img&amp;quot;).show();</span><br><span class="line">	// IMAGE RESIZE</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>4.返回页面顶部<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// Back To Top</span><br><span class="line">$(document).ready(function()&#123; </span><br><span class="line">  $(&apos;.top&apos;).click(function() &#123;  </span><br><span class="line">     $(document).scrollTo(0,500);  </span><br><span class="line">  &#125;);</span><br><span class="line">&#125;); </span><br><span class="line">//Create a link defined with the class .top</span><br><span class="line">&amp;lt;a href=&amp;quot;#&amp;quot; class=&amp;quot;top&amp;quot;&amp;gt;Back To Top&amp;lt;/a&amp;gt;</span><br></pre></td></tr></table></figure></p>
<p>5.使用jQuery打造手风琴式的折叠效果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">var accordion = &#123;</span><br><span class="line">     init: function()&#123;</span><br><span class="line">           var $container = $(&apos;#accordion&apos;);</span><br><span class="line">           $container.find(&apos;li:not(:first) .details&apos;).hide();</span><br><span class="line">           $container.find(&apos;li:first&apos;).addClass(&apos;active&apos;);</span><br><span class="line">           $container.on(&apos;click&apos;,&apos;li a&apos;,function(e)&#123;</span><br><span class="line">                  e.preventDefault();</span><br><span class="line">                  var $this = $(this).parents(&apos;li&apos;);</span><br><span class="line">                  if($this.hasClass(&apos;active&apos;))&#123;</span><br><span class="line">                         if($(&apos;.details&apos;).is(&apos;:visible&apos;)) &#123;</span><br><span class="line">                                $this.find(&apos;.details&apos;).slideUp();</span><br><span class="line">                         &#125; else &#123;</span><br><span class="line">                                $this.find(&apos;.details&apos;).slideDown();</span><br><span class="line">                         &#125;</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                         $container.find(&apos;li.active .details&apos;).slideUp();</span><br><span class="line">                         $container.find(&apos;li&apos;).removeClass(&apos;active&apos;);</span><br><span class="line">                         $this.addClass(&apos;active&apos;);</span><br><span class="line">                         $this.find(&apos;.details&apos;).slideDown();</span><br><span class="line">                  &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>6.通过预加载图片廊中的上一幅下一幅图片来模仿Facebook的图片展示方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var nextimage = &amp;quot;/images/some-image.jpg&amp;quot;;</span><br><span class="line">$(document).ready(function()&#123;</span><br><span class="line">window.setTimeout(function()&#123;</span><br><span class="line">var img = $(&amp;quot;&amp;quot;).attr(&amp;quot;src&amp;quot;, nextimage).load(function()&#123;</span><br><span class="line">//all done</span><br><span class="line">&#125;);</span><br><span class="line">&#125;, 100);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>7.使用jQuery和Ajax自动填充选择框<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">$(&amp;quot;select#ctlJob&amp;quot;).change(function()&#123;</span><br><span class="line">$.getJSON(&amp;quot;/select.php&amp;quot;,&#123;id: $(this).val(), ajax: &apos;true&apos;&#125;, function(j)&#123;</span><br><span class="line">var options = &apos;&apos;;</span><br><span class="line">for (var i = 0; i &amp;lt; j.length; i++) &#123;</span><br><span class="line">options += &apos;</span><br><span class="line">&apos; + j[i].optionDisplay + &apos;</span><br><span class="line">&apos;;</span><br><span class="line">&#125;</span><br><span class="line">$(&amp;quot;select#ctlPerson&amp;quot;).html(options);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>8.自动替换丢失的图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// Safe Snippet</span><br><span class="line">$(&amp;quot;img&amp;quot;).error(function () &#123;</span><br><span class="line">	$(this).unbind(&amp;quot;error&amp;quot;).attr(&amp;quot;src&amp;quot;, &amp;quot;missing_image.gif&amp;quot;);</span><br><span class="line">&#125;);</span><br><span class="line">// Persistent Snipper</span><br><span class="line">$(&amp;quot;img&amp;quot;).error(function () &#123;</span><br><span class="line">	$(this).attr(&amp;quot;src&amp;quot;, &amp;quot;missing_image.gif&amp;quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>9.在鼠标悬停时显示淡入/淡出特效<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> $(document).ready(function()&#123;</span><br><span class="line">    $(&amp;quot;.thumbs img&amp;quot;).fadeTo(&amp;quot;slow&amp;quot;, 0.6); // This sets the opacity of the thumbs to fade down to 60% when the page loads</span><br><span class="line">    $(&amp;quot;.thumbs img&amp;quot;).hover(function()&#123;</span><br><span class="line">        $(this).fadeTo(&amp;quot;slow&amp;quot;, 1.0); // This should set the opacity to 100% on hover</span><br><span class="line">    &#125;,function()&#123;</span><br><span class="line">        $(this).fadeTo(&amp;quot;slow&amp;quot;, 0.6); // This should set the opacity back to 60% on mouseout</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>10.清空表单数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function clearForm(form) &#123;</span><br><span class="line">  // iterate over all of the inputs for the form</span><br><span class="line">  // element that was passed in</span><br><span class="line">  $(&apos;:input&apos;, form).each(function() &#123;</span><br><span class="line">    var type = this.type;</span><br><span class="line">    var tag = this.tagName.toLowerCase(); // normalize case</span><br><span class="line">    // it&apos;s ok to reset the value attr of text inputs,</span><br><span class="line">    // password inputs, and textareas</span><br><span class="line">    if (type == &apos;text&apos; || type == &apos;password&apos; || tag == &apos;textarea&apos;)</span><br><span class="line">      this.value = &amp;quot;&amp;quot;;</span><br><span class="line">    // checkboxes and radios need to have their checked state cleared</span><br><span class="line">    // but should *not* have their &apos;value&apos; changed</span><br><span class="line">    else if (type == &apos;checkbox&apos; || type == &apos;radio&apos;)</span><br><span class="line">      this.checked = false;</span><br><span class="line">    // select elements need to have their &apos;selectedIndex&apos; property set to -1</span><br><span class="line">    // (this works for both single and multiple select elements)</span><br><span class="line">    else if (tag == &apos;select&apos;)</span><br><span class="line">      this.selectedIndex = -1;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>11.预防对表单进行多次提交<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function() &#123;</span><br><span class="line">  $(&apos;form&apos;).submit(function() &#123;</span><br><span class="line">    if(typeof jQuery.data(this, &amp;quot;disabledOnSubmit&amp;quot;) == &apos;undefined&apos;) &#123;</span><br><span class="line">      jQuery.data(this, &amp;quot;disabledOnSubmit&amp;quot;, &#123; submited: true &#125;);</span><br><span class="line">      $(&apos;input[type=submit], input[type=button]&apos;, this).each(function() &#123;</span><br><span class="line">        $(this).attr(&amp;quot;disabled&amp;quot;, &amp;quot;disabled&amp;quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>12.动态添加表单元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//change event on password1 field to prompt new input</span><br><span class="line">$(&apos;#password1&apos;).change(function() &#123;</span><br><span class="line">        //dynamically create new input and insert after password1</span><br><span class="line">        $(&amp;quot;#password1&amp;quot;).append(&amp;quot;&amp;quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>13.让整个Div可点击<br>blah blah blah. link<br>The following lines of jQuery will make the entire div clickable:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&amp;quot;.myBox&amp;quot;).click(function()&#123; window.location=$(this).find(&amp;quot;a&amp;quot;).attr(&amp;quot;href&amp;quot;); return false; &#125;);</span><br></pre></td></tr></table></figure></p>
<p>14.平衡高度或Div元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var maxHeight = 0;</span><br><span class="line">$(&amp;quot;div&amp;quot;).each(function()&#123;</span><br><span class="line">   if ($(this).height() &amp;gt; maxHeight) &#123; maxHeight = $(this).height(); &#125;</span><br><span class="line">&#125;);</span><br><span class="line">$(&amp;quot;div&amp;quot;).height(maxHeight);</span><br></pre></td></tr></table></figure></p>
<ol start="15">
<li>在窗口滚动时自动加载内容<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var loading = false;</span><br><span class="line">$(window).scroll(function()&#123;</span><br><span class="line">	if((($(window).scrollTop()+$(window).height())+250)&amp;gt;=$(document).height())&#123;</span><br><span class="line">		if(loading == false)&#123;</span><br><span class="line">			loading = true;</span><br><span class="line">			$(&apos;#loadingbar&apos;).css(&amp;quot;display&amp;quot;,&amp;quot;block&amp;quot;);</span><br><span class="line">			$.get(&amp;quot;load.php?start=&amp;quot;+$(&apos;#loaded_max&apos;).val(), function(loaded)&#123;</span><br><span class="line">				$(&apos;body&apos;).append(loaded);</span><br><span class="line">				$(&apos;#loaded_max&apos;).val(parseInt($(&apos;#loaded_max&apos;).val())+50);</span><br><span class="line">				$(&apos;#loadingbar&apos;).css(&amp;quot;display&amp;quot;,&amp;quot;none&amp;quot;);</span><br><span class="line">				loading = false;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">$(document).ready(function() &#123;</span><br><span class="line">	$(&apos;#loaded_max&apos;).val(50);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 403 Forbidden
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>