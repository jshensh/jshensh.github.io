<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>jQuery数组处理详解(含实例演示) | 博客</title>

  
  <meta name="author" content="403 Forbidden">
  

  
  <meta name="description" content="jQuery的数组处理,便捷,功能齐全. 最近的项目中用到的比较多,深感实用,一步到位的封装了很多原生js数组不能企及的功能. 最近时间紧迫,今天抽了些时间回过头来看 jQuery中文文档 中对数组的介绍,顺便对jQuery数组做个总结.温故,知新.  
强烈建议你打开DEMO演示后再看下面的详解:">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="jQuery数组处理详解(含实例演示)"/>

  <meta property="og:site_name" content="博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">博客</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/categories">分类</a></li>
      
        <li><a href="/about.html">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>jQuery数组处理详解(含实例演示)</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2013/08/23/jQuery数组处理详解(含实例演示)/" rel="bookmark">
        <time class="entry-date published" datetime="2013-08-22T19:55:15.000Z">
          2013-08-23
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>jQuery的数组处理,便捷,功能齐全. 最近的项目中用到的比较多,深感实用,一步到位的封装了很多原生js数组不能企及的功能. 最近时间紧迫,今天抽了些时间回过头来看 jQuery中文文档 中对数组的介绍,顺便对jQuery数组做个总结.温故,知新.  </p>
<p><strong>强烈建议你打开DEMO演示后再看下面的详解: </strong><a href="http://mrthink.net/demo/ijq20101125.htm" target="_blank" rel="noopener">点此查看DEMO</a>  </p>
<p><strong>1. $.each(array, [callback]) 遍历</strong>[常用]  </p>
<p><strong>解释: </strong>不同于例遍 jQuery 对象的 $.each() 方法,此方法可用于例遍任何对象(不仅仅是数组哦~). 回调函数拥有两个参数：第一个为对象的成员或数组的索引, 第二个为对应变量或内容. 如果需要退出 each 循环可使回调函数返回 false, 其它返回值将被忽略.  </p>
<p> each遍历,相信都不陌生,在平常的事件处理中,是for循环的变体,但比for循环强大.在数组中,它可以轻松的攻取数组索引及对应的值.例:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _mozi=[<span class="string">'墨家'</span>,<span class="string">'墨子'</span>,<span class="string">'墨翟'</span>,<span class="string">'兼爱非攻'</span>,<span class="string">'尚同尚贤'</span>]; <span class="comment">//本文所用到的数组, 下同</span></span><br><span class="line">$.each(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">key,val</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//回调函数有两个参数,第一个是元素索引,第二个为当前值</span></span><br><span class="line">	alert(<span class="string">'_mozi数组中 ,索引 : '</span>+key+<span class="string">' 对应的值为: '</span>+val);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>相对于原生的for..in,each更强壮一点. for..in也可以遍历数组,并返回对应索引,但值是需要通过arrName[key]来获取;  </p>
<p><strong>2. $.grep(array, callback, [invert]) 过滤数组</strong>[常用]  </p>
<p><strong>解释: </strong>使用过滤函数过滤数组元素.此函数至少传递两个参数(第三个参数为true或false,对过滤函数返回值取反,个人觉得用处不大): 待过滤数组和过滤函数. 过滤函数必须返回 true 以保留元素或 false 以删除元素. 另外,过滤函数还可以是可设置为一个字条串(个人不推荐,欲了解自行查阅);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$.grep(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val,key</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//过滤函数有两个参数,第一个为当前元素,第二个为元素索引</span></span><br><span class="line">	<span class="keyword">if</span>(val==<span class="string">'墨子'</span>)&#123;</span><br><span class="line">		alert(<span class="string">'数组值为 墨子 的下标是: '</span>+key);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _moziGt1=$.grep(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val,key</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> key&gt;<span class="number">1</span>;</span><br><span class="line">&#125;);</span><br><span class="line">alert(<span class="string">'_mozi数组中索引值大于1的元素为: '</span>+_moziGt1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _moziLt1=$.grep(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val,key</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> key&gt;<span class="number">1</span>;</span><br><span class="line">&#125;,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//此处传入了第三个可靠参数,对过滤函数中的返回值取反</span></span><br><span class="line">alert(<span class="string">'_mozi数组中索引值小于等于1的元素为: '</span>+_moziLt1);</span><br></pre></td></tr></table></figure>
<p><strong>3. $.map(array,[callback])按给定条件转换数组 </strong>[一般]  </p>
<p><strong>解释:</strong>作为参数的转换函数会为每个数组元素调用, 而且会给这个转换函数传递一个表示被转换的元素作为参数. 转换函数可以返回转换后的值、null(删除数组中的项目)或一个包含值的数组, 并扩展至原始数组中.  </p>
<p>这个是个很强大的方法,但并不常用. 它可以根据特定条件,更新数组元素值,或根据原值扩展一个新的副本元素.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _mapArrA=$.map(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> val+<span class="string">'[新加]'</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> _mapArrB=$.map(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> val==<span class="string">'墨子'</span> ? <span class="string">'[只给墨子加]'</span>+val : val;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> _mapArrC=$.map(_mozi,<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//为数组元素扩展一个新元素</span></span><br><span class="line">	<span class="keyword">return</span> [val,(val+<span class="string">'[扩展]'</span>)];</span><br><span class="line">&#125;);</span><br><span class="line">alert(<span class="string">'在每个元素后面加\'[新加]\'字符后的数组为: '</span>+ _mapArrA);</span><br><span class="line">alert(<span class="string">'只给元素 墨子 添加字符后的数组为: '</span>+ _mapArrB);</span><br><span class="line">alert(<span class="string">'为原数组中每个元素,扩展一个添加字符\'[新加]\'的元素,返回的数组为 '</span>+_mapArrC);</span><br></pre></td></tr></table></figure>
<p><strong>4 .$.inArray(val,array)判断值是否存在于数组中</strong>[常用]  </p>
<p><strong>解释: </strong>确定第一个参数在数组中的位置, 从0开始计数(如果没有找到则返回 -1 ).  </p>
<p>记得indexOf()方法了吗? indexOf()返回字符串的首次出现位置,而$.inArray()返回的是传入参数在数组中的位置,同样的,如果找到的,返回的是一个大于或等于0的值,若未找到则返回-1.现在, 知道怎么用了吧. 有了它, 判断某个值是否存在于数组中,就变得轻而易举了.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _exist=$.inArray(<span class="string">'墨子'</span>,_mozi);</span><br><span class="line"><span class="keyword">var</span> _inexistence=$.inArray(<span class="string">'卫鞅'</span>,_mozi)</span><br><span class="line"><span class="keyword">if</span>(_exist&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">	alert(<span class="string">'墨子 存在于数组_mozi中,其在数组中索引值是: '</span>+_exist);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(_inexistence&lt;<span class="number">0</span>)&#123;</span><br><span class="line">	alert(<span class="string">'卫鞅 不存在于数组_mozi中!,返回值为: '</span>+_inexistence+<span class="string">'!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>5 .$.merge(first,second)合并两个数组</strong>[一般]  </p>
<p><strong>解释: </strong>返回的结果会修改第一个数组的内容——第一个数组的元素后面跟着第二个数组的元素.  </p>
<p>这个方法是用jQuery的方法替代原生concat()方法, 但功能并没有concat()强大, concat()可以同时合并多个数组.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//原生concat()可能比它还简洁点</span></span><br><span class="line">_moziNew=$.merge(_mozi,[<span class="string">'鬼谷子'</span>,<span class="string">'商鞅'</span>,<span class="string">'孙膑'</span>,<span class="string">'庞涓'</span>,<span class="string">'苏秦'</span>,<span class="string">'张仪'</span>])</span><br><span class="line">alert(<span class="string">'合并后新数组长度为: '</span>+_moziNew.length+<span class="string">'. 其值为: '</span>+_moziNew);</span><br></pre></td></tr></table></figure>
<p><strong>6 .$.unique(array)过滤数组中重复元素</strong>[不常用]  </p>
<p><strong>解释: </strong>删除数组中重复元素. 只处理删除DOM元素数组,而不能处理字符串或者数字数组.  </p>
<p>第一次看到这个方法,觉得这是个很便捷的方法, 可以过滤重复, 哈, 多完美, 但仔细一看, 仅限处理DOM元素. 功能8折了.所以, 我给它定义成了一个不常用的元素, 至少, 我用jQuery以来没用到过它.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _h2Arr=$.makeArray(h2obj);</span><br><span class="line"><span class="comment">//将数组_h2Arr重复一次</span></span><br><span class="line">_h2Arr=$.merge(_h2Arr,_h2Arr);</span><br><span class="line"><span class="keyword">var</span> _curLen=_h2Arr.length;</span><br><span class="line">_h2Arr=$.unique(_h2Arr);</span><br><span class="line"><span class="keyword">var</span> _newLen=_h2Arr.length;</span><br><span class="line">alert(<span class="string">'数组_h2Arr原长度值为: '</span>+_curLen+<span class="string">' ,过滤后为: '</span>+_newLen</span><br><span class="line">      +<span class="string">' .共过滤 '</span>+(_curLen-_newLen)+<span class="string">'个重复元素'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>7. $.makeArray(obj) 将类数组对象转换为数组</strong>[不常用]  </p>
<p><strong>解释: </strong>将类数组对象转换为数组对象, 类数组对象有 length 属性,其成员索引为0至 length-1.  </p>
<p>这是个多余的方法, 无所不能的$本来就包含了这个功能. jQuery官网上解释的非常模糊. 其实, 它就是将某个类数组对象(比如用getElementsByTagName获取的元素对象集合)转换成数组对象.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _makeArr=$.makeArray(h2obj);</span><br><span class="line">alert(<span class="string">'h2元素对象集合的数据类型转换为: '</span>+_makeArr.constructor.name);<span class="comment">//输出Array</span></span><br></pre></td></tr></table></figure>
<p><strong>8. $(dom).toArray()将所有DOM元素恢复成数组</strong>[不常用]  </p>
<p><strong>解释: </strong>把jQuery集合中所有DOM元素恢复成一个数组;  </p>
<p>并不常用的方法, 个人甚至觉得它和$.makeArray一样多余.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _toArr=$(<span class="string">'h2'</span>).toArray();</span><br><span class="line">alert(<span class="string">'h2元素集合恢复后的数据类型是: '</span>+_toArr.constructor.name);</span><br></pre></td></tr></table></figure>
<p>转载自 <a href="http://mrthink.net/jquery-array-eachgrepinarray/" target="_blank" rel="noopener">jQuery数组处理详解(含实例演示)@Mr.Think</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Web-开发/">Web 开发</a>
    </span>
    

    

    </div>

    
  </div>
</article>

  

	<section id="comment" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'futa-ooo';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2019 403 Forbidden
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>